/*! For license information please see component---src-pages-index-tsx-b623cfa5670f137c49c6.js.LICENSE.txt */
(self.webpackChunkretrofitting_suburbia=self.webpackChunkretrofitting_suburbia||[]).push([[691],{3046:function(t,e,n){"use strict";var i=n(1647),r=n(6297),o="value",a="\n  ",s={};function u(t){var e=Array.isArray(t);return function(n){var i,r=c(s.plainArray,n);if(r)return r;if(e&&n.length!==t.length)return"an array with "+t.length+" items";for(var o=0;o<n.length;o++)if(r=c((i=o,e?t[i]:t),n[o]))return[o].concat(r)}}function c(t,e){if(null!=e||t.hasOwnProperty("__required")){var n=t(e);return n?Array.isArray(n)?n:[n]:void 0}}function l(t,e){var n=t.length,i=t[n-1],a=t.slice(0,n-1);return 0===a.length&&(a=[o]),e=r(e,{path:a}),"function"==typeof i?i(e):p(e,function(t){return"must be "+function(t){if(/^an? /.test(t))return t;if(/^[aeiou]/i.test(t))return"an "+t;if(/^[a-z]/i.test(t))return"a "+t;return t}(t)+"."}(i))}function h(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function p(t,e){return(d(t.path)?"Item at position ":"")+(t.path.join(".")+" "+e)}function d(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}s.assert=function(t,e){return e=e||{},function(n){var i=c(t,n);if(i){var r=l(i,e);throw e.apiName&&(r=e.apiName+": "+r),new Error(r)}}},s.shape=function(t){var e,n=(e=t,Object.keys(e||{}).map((function(t){return{key:t,value:e[t]}})));return function(t){var e,i=c(s.plainObject,t);if(i)return i;for(var r=[],u=0;u<n.length;u++)e=n[u].key,(i=c(n[u].value,t[e]))&&r.push([e].concat(i));return r.length<2?r[0]:function(t){r=r.map((function(e){return"- "+e[0]+": "+l(e,t).split("\n").join(a)}));var e=t.path.join(".");return"The following properties"+(e===o?"":" of "+e)+" have invalid values:"+a+r.join(a)}}},s.strictShape=function(t){var e=s.shape(t);return function(n){var i=e(n);if(i)return i;var r=Object.keys(n).reduce((function(e,n){return void 0===t[n]&&e.push(n),e}),[]);return 0!==r.length?function(){return"The following keys are invalid: "+r.join(", ")}:void 0}},s.arrayOf=function(t){return u(t)},s.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return u(t)},s.required=function(t){function e(e){return null==e?function(t){return p(t,d(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return e.__required=!0,e},s.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(e){var n=t.map((function(t){return c(t,e)})).filter(Boolean);if(n.length===t.length)return n.every((function(t){return 1===t.length&&"string"==typeof t[0]}))?h(n.map((function(t){return t[0]}))):n.reduce((function(t,e){return e.length>t.length?e:t}))}},s.equal=function(t){return function(e){if(e!==t)return JSON.stringify(t)}},s.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map((function(t){return s.equal(t)}));return s.oneOfType.apply(this,e)},s.range=function(t){var e=t[0],n=t[1];return function(t){if(c(s.number,t)||t<e||t>n)return"number between "+e+" & "+n+" (inclusive)"}},s.any=function(){},s.boolean=function(t){if("boolean"!=typeof t)return"boolean"},s.number=function(t){if("number"!=typeof t)return"number"},s.plainArray=function(t){if(!Array.isArray(t))return"array"},s.plainObject=function(t){if(!i(t))return"object"},s.string=function(t){if("string"!=typeof t)return"string"},s.func=function(t){if("function"!=typeof t)return"function"},s.validate=c,s.processMessage=l,t.exports=s},148:function(t,e,n){"use strict";var i=n(2144);function r(t){this.origin=t.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=t.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=t,this.send=this.send.bind(this),this.countries=t.countries?t.countries.split(","):null,this.types=t.types?t.types.split(","):null,this.bbox=t.bbox?t.bbox:null,this.language=t.language?t.language.split(","):null,this.limit=t.limit?+t.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(t),this.eventQueue=new Array,this.flushInterval=t.flushInterval||1e3,this.maxQueueSize=t.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}r.prototype={select:function(t,e){var n=this.getSelectedIndex(t,e),i=this.getEventPayload("search.select",e);if(i.resultIndex=n,i.resultPlaceName=t.place_name,i.resultId=t.id,(n!==this.lastSentIndex||i.queryString!==this.lastSentInput)&&-1!=n&&(this.lastSentIndex=n,this.lastSentInput=i.queryString,i.queryString))return this.push(i)},start:function(t){var e=this.getEventPayload("search.start",t);if(e.queryString)return this.push(e)},keyevent:function(t,e){if(t.key&&!t.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(t.keyCode)){var n=this.getEventPayload("search.keystroke",e);if(n.lastAction=t.key,n.queryString)return this.push(n)}},send:function(t,e){if(!this.enableEventLogging)return e?e():void 0;var n=this.getRequestOptions(t);this.request(n,function(t){return t?this.handleError(t,e):e?e():void 0}.bind(this))},getRequestOptions:function(t){return Array.isArray(t)||(t=[t]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},getEventPayload:function(t,e){var n;n=e.options.proximity?[e.options.proximity.longitude,e.options.proximity.latitude]:null;var i=e._map?e._map.getZoom():void 0,r={event:t,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",proximity:n,limit:e.options.limit,mapZoom:i,keyboardLocale:this.locale};return"search.select"===t?r.queryString=e.inputString:"search.select"!=t&&e._inputEl?r.queryString=e._inputEl.value:r.queryString=e.inputString,r},request:function(t,e){var n=new XMLHttpRequest;for(var i in n.onreadystatechange=function(){if(4==this.readyState)return 204==this.status?e(null):e(this.statusText)},n.open(t.method,t.host+"/"+t.path,!0),t.headers){var r=t.headers[i];n.setRequestHeader(i,r)}n.send(t.body)},handleError:function(t,e){if(e)return e(t)},generateSessionID:function(){return i()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(t,e){if(e._typeahead){var n=e._typeahead.data,i=t.id;return n.map((function(t){return t.id})).indexOf(i)}},shouldEnableLogging:function(t){return!1!==t.enableEventLogging&&((!t.origin||-1!=t.origin.indexOf("api.mapbox.com"))&&(!t.localGeocoder&&!t.filter))},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(t,e){this.eventQueue.push(t),(this.eventQueue.length>=this.maxQueueSize||e)&&this.flush()},remove:function(){this.flush()}},t.exports=r},894:function(t){t.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},5040:function(t,e,n){"use strict";var i=n(4396),r=n(935),o=n(6297),a=n(7555).EventEmitter,s=n(894),u=n(7049),c=n(3081),l=n(148),h=n(7010),p=n(7603);function d(t){this._eventEmitter=new a,this.options=o({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null}d.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(t){return t.place_name},render:function(t){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+e.splice(1,e.length).join(",")+"</div></div>"}},addTo:function(t){function e(t,e){if(!document.body.contains(e))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var n=t.onAdd();e.appendChild(n)}if(t._controlContainer)t.addControl(this);else if(t instanceof HTMLElement)e(this,t);else{if("string"!=typeof t)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");var n=document.querySelectorAll(t);if(0===n.length)throw new Error("Element ",t,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");e(this,n[0])}},onAdd:function(t){if(t&&"string"!=typeof t&&(this._map=t),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=c(u({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new l(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",r(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(t){this.eventManager.keyevent(t,this)}.bind(this));var o=document.createElement("div");o.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var a=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(a),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),o.appendChild(this._clearEl),o.appendChild(this._loadingEl),e.appendChild(n),e.appendChild(this._inputEl),e.appendChild(o),this._typeahead=new i(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),e},createIcon:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+t),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=e;else{var i=document.createElement("div");i.innerHTML="<svg>"+e.valueOf().toString()+"</svg>";var r=i.firstChild.firstChild;n.appendChild(r)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text");e.length>=this.options.minLength&&this._geocode(e)},_onKeyDown:function(t){var e=27,n=9;if(t.keyCode===e&&this.options.clearAndBlurOnEsc)return this._clear(t),this._inputEl.blur();var i=t.target&&t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target;if(!(i?i.value:""))return this.fresh=!0,t.keyCode!==n&&this.clear(t),this._clearEl.style.display="none";t.metaKey||-1!==[n,e,37,39,13,38,40].indexOf(t.keyCode)||i.value.length>=this.options.minLength&&this._geocode(i.value)},_showButton:function(){this._typeahead.selected&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(t){this.options.clearOnBlur&&this._clearOnBlur(t),this.options.collapsed&&this._collapse()},_onChange:function(){var t=this._typeahead.selected;if(t&&JSON.stringify(t)!==this.lastSelected){var e;if(this._clearEl.style.display="none",this.options.flyTo)if(t.properties&&s[t.properties.short_code])e=o({},this.options.flyTo),this._map&&this._map.fitBounds(s[t.properties.short_code].bbox,e);else if(t.bbox){var n=t.bbox;e=o({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],e)}else{var i={zoom:this.options.zoom};(e=o({},i,this.options.flyTo)).center=t.center,this._map&&this._map.flyTo(e)}this.options.marker&&this._mapboxgl&&this._handleMarker(t),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(t),this._eventEmitter.emit("result",{result:t}),this.eventManager.select(t,this)}},_geocode:function(t){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t}),this.inputString=t;var e,n=this,i=null,r=["bbox","limit","proximity","countries","types","language","reverseMode","mode"].reduce((function(t,e){return n.options[e]&&(["countries","types","language"].indexOf(e)>-1?t[e]=n.options[e].split(/[\s,]+/):t[e]=n.options[e],"proximity"===e&&n.options[e]&&"number"==typeof n.options[e].longitude&&"number"==typeof n.options[e].latitude&&(t[e]=[n.options[e].longitude,n.options[e].latitude])),t}),{});if(this.options.localGeocoderOnly)e=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(t)){var a=t.split(/[\s(,)?]+/).map((function(t){return parseFloat(t,10)})).reverse();!r.types||r.types[0],"proximity"in(r=o(r,{query:a,limit:1}))&&delete r.proximity,e=this.geocoderService.reverseGeocode(r).send()}else r=o(r,{query:t}),e=this.geocoderService.forwardGeocode(r).send();var s=[];this.options.localGeocoder&&((s=this.options.localGeocoder(t))||(s=[]));var u=[];return e.catch(function(t){i=t}.bind(this)).then(function(e){this._loadingEl.style.display="none";var n={};return e?"200"==e.statusCode&&((n=e.body).request=e.request,n.headers=e.headers):n={type:"FeatureCollection",features:[]},n.config=r,this.fresh&&(this.eventManager.start(this),this.fresh=!1),n.features=n.features?s.concat(n.features):s,this.options.externalGeocoder?(u=this.options.externalGeocoder(t,n.features)||[]).then((function(t){return n.features=n.features?t.concat(n.features):t,n}),(function(){return n})):n}.bind(this)).then(function(t){if(i)throw i;this.options.filter&&t.features.length&&(t.features=t.features.filter(this.options.filter)),t.features.length?(this._clearEl.style.display="block",this._eventEmitter.emit("results",t),this._typeahead.update(t.features)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",t))}.bind(this)).catch(function(t){this._loadingEl.style.display="none",s.length&&this.options.localGeocoder||u.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(s)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:s}),this._eventEmitter.emit("error",{error:t})}.bind(this)),e},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(t){this._clear(t),this._inputEl.focus()},_clearOnBlur:function(t){t.relatedTarget&&this._clear(t)},_onQueryResult:function(t){var e=t.body;if(e.features.length){var n=e.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(t){return this._geocode(t).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(t){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(t)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var t=this.options.language.split(",")[0],e=p.language(t),n=h.placeholder[e];if(n)return n}return"Search"},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),t.length>=this.options.minLength&&this._geocode(t),this},setProximity:function(t){return this.options.proximity=t,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(t){return t&&"function"==typeof t&&(this._typeahead.render=t),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(t){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=t||this.options.language||e,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(t){return this.options.zoom=t,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(t){return this.options.flyTo=t,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(t){return this.placeholder=t||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(t){return this.options.bbox=t,this},getCountries:function(){return this.options.countries},setCountries:function(t){return this.options.countries=t,this},getTypes:function(){return this.options.types},setTypes:function(t){return this.options.types=t,this},getMinLength:function(){return this.options.minLength},setMinLength:function(t){return this.options.minLength=t,this._typeahead&&(this._typeahead.minLength=t),this},getLimit:function(){return this.options.limit},setLimit:function(t){return this.options.limit=t,this._typeahead&&(this._typeahead.options.limit=t),this},getFilter:function(){return this.options.filter},setFilter:function(t){return this.options.filter=t,this},setOrigin:function(t){return this.options.origin=t,this.geocoderService=c(u({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},_handleMarker:function(t){if(this._map){this._removeMarker();var e=o({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(e),t.center?this.mapMarker.setLngLat(t.center).addTo(this._map):t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&this.mapMarker.setLngLat(t.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(t,e){return this._eventEmitter.on(t,e),this},off:function(t,e){return this._eventEmitter.removeListener(t,e),this.eventManager.remove(),this}},t.exports=d},7010:function(t){"use strict";t.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو"}}},2144:function(t){for(var e=self.crypto||self.msCrypto,n="-_",i=36;i--;)n+=i.toString(36);for(i=36;i---10;)n+=i.toString(36).toUpperCase();t.exports=function(t){var r="",o=e.getRandomValues(new Uint8Array(t||21));for(i=t||21;i--;)r+=n[63&o[i]];return r}},7049:function(t,e,n){"use strict";var i=n(7939);t.exports=i},7939:function(t,e,n){"use strict";var i=n(6376),r=n(3412);function o(t){r.call(this,t)}o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.sendRequest=i.browserSend,o.prototype.abortRequest=i.browserAbort,t.exports=function(t){return new o(t)}},6376:function(t,e,n){"use strict";var i=n(3387),r=n(6689),o=n(4124),a=n(3703),s={};function u(t){var e=t.total,n=t.loaded;return{total:e,transferred:n,percent:100*n/e}}function c(t,e){return new Promise((function(n,i){e.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_DOWNLOAD,u(e))};var a=t.file;a&&(e.upload.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_UPLOAD,u(e))}),e.onerror=function(t){i(t)},e.onabort=function(){var e=new r({request:t,type:o.ERROR_REQUEST_ABORTED});i(e)},e.onload=function(){if(delete s[t.id],e.status<200||e.status>=400){var o=new r({request:t,body:e.response,statusCode:e.status});i(o)}else n(e)};var c=t.body;"string"==typeof c?e.send(c):c?e.send(JSON.stringify(c)):a?e.send(a):e.send(),s[t.id]=e})).then((function(e){return function(t,e){return new i(t,{body:e.response,headers:a(e.getAllResponseHeaders()),statusCode:e.status})}(t,e)}))}function l(t,e){var n=t.url(e),i=new window.XMLHttpRequest;return i.open(t.method,n),Object.keys(t.headers).forEach((function(e){i.setRequestHeader(e,t.headers[e])})),i}t.exports={browserAbort:function(t){var e=s[t.id];e&&(e.abort(),delete s[t.id])},sendRequestXhr:c,browserSend:function(t){return Promise.resolve().then((function(){var e=l(t,t.client.accessToken);return c(t,e)}))},createRequestXhr:l}},3412:function(t,e,n){"use strict";var i=n(3585),r=n(3692),o=n(4124);function a(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");i(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||o.API_ORIGIN}a.prototype.createRequest=function(t){return new r(this,t)},t.exports=a},6689:function(t,e,n){"use strict";var i=n(4124);t.exports=function(t){var e,n=t.type||i.ERROR_HTTP;if(t.body)try{e=JSON.parse(t.body)}catch(o){e=t.body}else e=null;var r=t.message||null;r||("string"==typeof e?r=e:e&&"string"==typeof e.message?r=e.message:n===i.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=n,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e}},3692:function(t,e,n){"use strict";var i=n(3585),r=n(6297),o=n(8173),a=n(7141),s=n(4124),u=1;function c(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};e.body&&(n["content-type"]="application/json");var i=r(n,e.headers),a=Object.keys(i).reduce((function(t,e){return t[e.toLowerCase()]=i[e],t}),{});this.id=u++,this._options=e,this.emitter=new o,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.encoding=e.encoding||"utf8",this.sendFileAs=e.sendFileAs||null,this.headers=a}c.prototype.url=function(t){var e=a.prependOrigin(this.path,this.origin);e=a.appendQueryObject(e,this.query);var n=this.params,o=null==t?this.client.accessToken:t;if(o){e=a.appendQueryParam(e,"access_token",o);var s=i(o).user;n=r({ownerId:s},n)}return e=a.interpolateRouteParams(e,n),e},c.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then((function(e){return t.response=e,t.emitter.emit(s.EVENT_RESPONSE,e),e}),(function(e){throw t.error=e,t.emitter.emit(s.EVENT_ERROR,e),e}))},c.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},c.prototype.eachPage=function(t){var e=this;function n(n){t(null,n,(function(){delete e._nextPageRequest;var t=n.nextPage();t&&(e._nextPageRequest=t,r(t))}))}function i(e){t(e,null,(function(){}))}function r(t){t.send().then(n,i)}r(this)},c.prototype.clone=function(){return this._extend()},c.prototype._extend=function(t){var e=r(this._options,t);return new c(this.client,e)},t.exports=c},3387:function(t,e,n){"use strict";var i=n(5435);function r(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(n){this.body=e.body}this.links=i(this.headers.link)}r.prototype.hasNextPage=function(){return!!this.links.next},r.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},t.exports=r},4124:function(t){"use strict";t.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},3703:function(t){"use strict";t.exports=function(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach((function(t){var n=function(t){var e=t.indexOf(":");return{name:t.substring(0,e).trim().toLowerCase(),value:t.substring(e+1).trim()}}(t);e[n.name]=n.value})),e):e}},5435:function(t){"use strict";t.exports=function(t){return t?t.split(/,\s*</).reduce((function(t,e){var n=function(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var n=e[1],i=e[2].split(";"),r=null,o=i.reduce((function(t,e){var n=function(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}(e);return n?"rel"===n.key?(r||(r=n.value),t):(t[n.key]=n.value,t):t}),{});return r?{url:n,rel:r,params:o}:null}(e);return n?(n.rel.split(/\s+/).forEach((function(e){t[e]||(t[e]={url:n.url,params:n.params})})),t):t}),{}):{}}},7141:function(t){"use strict";function e(t){return Array.isArray(t)?t.map(encodeURIComponent).join(","):encodeURIComponent(String(t))}function n(t,n,i){if(!1===i||null===i)return t;var r=/\?/.test(t)?"&":"?",o=encodeURIComponent(n);return void 0!==i&&""!==i&&!0!==i&&(o+="="+e(i)),""+t+r+o}t.exports={appendQueryObject:function(t,e){if(!e)return t;var i=t;return Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(Array.isArray(r)&&(r=r.filter((function(t){return null!=t})).join(",")),i=n(i,t,r))})),i},appendQueryParam:n,prependOrigin:function(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var n="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+n+t},interpolateRouteParams:function(t,n){return n?t.replace(/\/:([a-zA-Z0-9]+)/g,(function(t,i){var r=n[i];if(void 0===r)throw new Error("Unspecified route parameter "+i);return"/"+e(r)})):t}}},8173:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||t,a),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},s.prototype.emit=function(t,e,i,r,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,r),!0;case 5:return l.fn.call(l.context,e,i,r,o),!0;case 6:return l.fn.call(l.context,e,i,r,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,i);break;case 4:l[c].fn.call(l[c].context,e,i,r);break;default:if(!u)for(p=1,u=new Array(h-1);p<h;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,i,r){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==e||r&&!s[u].once||i&&s[u].context!==i)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},3081:function(t,e,n){"use strict";var i=n(6297),r=n(7396),o=n(8015),a=n(8986),s=n(3325),u={},c=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(t){r.assertShape({query:r.required(r.string),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),proximity:r.coordinates,types:r.arrayOf(r.oneOf(c)),autocomplete:r.boolean,bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),routing:r.boolean})(t),t.mode=t.mode||"mapbox.places";var e=a(i({country:t.countries},o(t,["proximity","types","autocomplete","bbox","limit","language","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},u.reverseGeocode=function(t){r.assertShape({query:r.required(r.coordinates),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),types:r.arrayOf(r.oneOf(c)),bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),reverseMode:r.oneOf("distance","score"),routing:r.boolean})(t),t.mode=t.mode||"mapbox.places";var e=a(i({country:t.countries},o(t,["country","types","bbox","limit","language","reverseMode","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},t.exports=s(u)},3325:function(t,e,n){"use strict";var i=n(3412),r=n(7939);t.exports=function(t){return function(e){var n;n=i.prototype.isPrototypeOf(e)?e:r(e);var o=Object.create(t);return o.client=n,o}}},2395:function(t){"use strict";t.exports=function(t,e){return Object.keys(t).reduce((function(n,i){return n[i]=e(i,t[i]),n}),{})}},8015:function(t){"use strict";t.exports=function(t,e){var n=function(t,n){return-1!==e.indexOf(t)&&void 0!==n};return"function"==typeof e&&(n=e),Object.keys(t).filter((function(e){return n(e,t[e])})).reduce((function(e,n){return e[n]=t[n],e}),{})}},8986:function(t,e,n){"use strict";var i=n(2395);t.exports=function(t){return i(t,(function(t,e){return"boolean"==typeof e?JSON.stringify(e):e}))}},7396:function(t,e,n){"use strict";var i=n(6297),r=n(3046);t.exports=i(r,{file:function(t){if("undefined"!=typeof window){if(t instanceof n.g.Blob||t instanceof n.g.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!=typeof t&&void 0===t.pipe)return"Filename or Readable stream"},date:function(t){var e="date";if("boolean"==typeof t)return e;try{var n=new Date(t);if(n.getTime&&isNaN(n.getTime()))return e}catch(i){return e}},coordinates:function(t){return r.tuple(r.number,r.number)(t)},assertShape:function(t,e){return r.assert(r.strictShape(t),e)}})},3585:function(t,e,n){"use strict";var i=n(4321),r={};function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t){if(r[t])return r[t];var e=t.split("."),n=e[0],a=e[1];if(!a)throw new Error("Invalid token");var s=function(t){try{return JSON.parse(i.decode(t))}catch(e){throw new Error("Invalid token")}}(a),u={usage:n,user:s.u};return o(s,"a")&&(u.authorization=s.a),o(s,"exp")&&(u.expires=1e3*s.exp),o(s,"iat")&&(u.created=1e3*s.iat),o(s,"scopes")&&(u.scopes=s.scopes),o(s,"client")&&(u.client=s.client),o(s,"ll")&&(u.lastLogin=s.ll),o(s,"iu")&&(u.impersonator=s.iu),r[t]=u,u}},4321:function(t,e,n){var i;t=n.nmd(t),function(r){var o=e,a=(t&&t.exports,"object"==typeof n.g&&n.g);a.global!==a&&a.window;var s=function(t){this.message=t};(s.prototype=new Error).name="InvalidCharacterError";var u=function(t){throw new s(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,h={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,i,r,o=t.length%3,a="",s=-1,l=t.length-o;++s<l;)e=t.charCodeAt(s)<<16,n=t.charCodeAt(++s)<<8,i=t.charCodeAt(++s),a+=c.charAt((r=e+n+i)>>18&63)+c.charAt(r>>12&63)+c.charAt(r>>6&63)+c.charAt(63&r);return 2==o?(e=t.charCodeAt(s)<<8,n=t.charCodeAt(++s),a+=c.charAt((r=e+n)>>10)+c.charAt(r>>4&63)+c.charAt(r<<2&63)+"="):1==o&&(r=t.charCodeAt(s),a+=c.charAt(r>>2)+c.charAt(r<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(l,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,r=0,o="",a=-1;++a<e;)i=c.indexOf(t.charAt(a)),n=r%4?64*n+i:i,r++%4&&(o+=String.fromCharCode(255&n>>(-2*r&6)));return o},version:"0.1.0"};void 0===(i=function(){return h}.call(e,n,e,t))||(t.exports=i)}()},7555:function(t){"use strict";var e,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,i){function r(n){t.removeListener(e,o),i(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&m(t,"error",e,n)}(t,r,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var r,o,a,c;if(s(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=u(t))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=l.bind(i);return r.listener=n,i.wrapFn=r,r}function p(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):f(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function m(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(o){i.once&&t.removeEventListener(e,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var c=u.length,l=f(u,c);for(n=0;n<c;++n)i(l[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,r,o,a;if(s(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return p(this,t,!0)},o.prototype.rawListeners=function(t){return p(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},8261:function(t){var e;e={},t.exports=e,e.simpleFilter=function(t,n){return n.filter((function(n){return e.test(t,n)}))},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(t,e,n){n=n||{};var i,r=0,o=[],a=e.length,s=0,u=0,c=n.pre||"",l=n.post||"",h=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var p=0;p<a;p++)i=e[p],h[p]===t[r]?(i=c+i+l,r+=1,u+=1+u):u=0,s+=u,o[o.length]=i;return r===t.length?(s=h===t?1/0:s,{rendered:o.join(""),score:s}):null},e.filter=function(t,n,i){return n&&0!==n.length?"string"!=typeof t?n:(i=i||{},n.reduce((function(n,r,o,a){var s=r;i.extract&&(s=i.extract(r));var u=e.match(t,s,i);return null!=u&&(n[n.length]={string:u.rendered,score:u.score,index:o,original:r}),n}),[]).sort((function(t,e){var n=e.score-t.score;return n||t.index-e.index}))):[]}},5087:function(t,e,n){var i;!function(r,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,p=Math.abs,d=Date.now;function f(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function g(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=g((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===s)&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),b=g((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&u(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return"function"==typeof t?t.apply(e&&e[0]||s,e):t}function E(t,e){return t===s?e:t}function k(t,e,n){v(O(e),(function(e){t.addEventListener(e,n,!1)}))}function M(t,e,n){v(O(e),(function(e){t.removeEventListener(e,n,!1)}))}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function P(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\s+/g)}function C(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];C(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function L(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((i=(n=c[o])?n+r:e)in t)return i;o++}return s}var j=1;function I(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var z="ontouchstart"in r,q=L(r,"PointerEvent")!==s,A=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D="touch",Z="mouse",N=24,F=["x","y"],B=["clientX","clientY"];function V(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function U(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=W(e));r>1&&!n.firstMultiple?n.firstMultiple=W(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,c=e.center=H(i);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=J(u,c),e.distance=X(u,c),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=Y(e.deltaX,e.deltaY);var l=G(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=p(l.x)>p(l.y)?l.x:l.y,e.scale=a?(h=a.pointers,f=i,X(f[0],f[1],B)/X(h[0],h[1],B)):1,e.rotation=a?function(t,e){return J(e[1],e[0],B)+J(t[1],t[0],B)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(u>25||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,h=G(u,c,l);i=h.x,r=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=Y(c,l),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var h,f;var m=t.element;S(e.srcEvent.target,m)&&(m=e.srcEvent.target);e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function W(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:h(n/e),y:h(i/e)}}function G(t,e,n){return{x:e/t||0,y:n/t||0}}function Y(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function X(t,e,n){n||(n=F);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function J(t,e,n){n||(n=F);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(I(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4},Q="mousedown",$="mousemove mouseup";function tt(){this.evEl=Q,this.evWin=$,this.pressed=!1,V.apply(this,arguments)}_(tt,V,{handler:function(t){var e=K[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Z,srcEvent:t}))}});var et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nt={2:D,3:"pen",4:Z,5:"kinect"},it="pointerdown",rt="pointermove pointerup pointercancel";function ot(){this.evEl=it,this.evWin=rt,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(it="MSPointerDown",rt="MSPointerMove MSPointerUp MSPointerCancel"),_(ot,V,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=et[i],o=nt[t.pointerType]||t.pointerType,a=o==D,s=C(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var at={touchstart:1,touchmove:2,touchend:4,touchcancel:8},st="touchstart",ut="touchstart touchmove touchend touchcancel";function ct(){this.evTarget=st,this.evWin=ut,this.started=!1,V.apply(this,arguments)}function lt(t,e){var n=T(t.touches),i=T(t.changedTouches);return 12&e&&(n=R(n.concat(i),"identifier",!0)),[n,i]}_(ct,V,{handler:function(t){var e=at[t.type];if(1===e&&(this.started=!0),this.started){var n=lt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:t})}}});var ht={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pt="touchstart touchmove touchend touchcancel";function dt(){this.evTarget=pt,this.targetIds={},V.apply(this,arguments)}function ft(t,e){var n=T(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=T(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return S(t.target,u)})),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&e&&delete i[a[r].identifier],r++;return s.length?[R(o.concat(s),"identifier",!0),s]:void 0}_(dt,V,{handler:function(t){var e=ht[t.type],n=ft.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:D,srcEvent:t})}});function mt(){V.apply(this,arguments);var t=w(this.handler,this);this.touch=new dt(this.manager,t),this.mouse=new tt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function vt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,gt.call(this,e)):12&t&&gt.call(this,e)}function gt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function yt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}_(mt,V,{handler:function(t,e,n){var i=n.pointerType==D,r=n.pointerType==Z;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)vt.call(this,e,n);else if(r&&yt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bt=L(l.style,"touchAction"),_t=bt!==s,wt="compute",xt="auto",Et="manipulation",kt="none",Mt="pan-x",St="pan-y",Pt=function(){if(!_t)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){t==wt&&(t=this.compute()),_t&&this.manager.element.style&&Pt[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(P(t,kt))return kt;var e=P(t,Mt),n=P(t,St);if(e&&n)return kt;if(e||n)return e?Mt:St;if(P(t,Et))return Et;return xt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=P(i,kt)&&!Pt.none,o=P(i,St)&&!Pt["pan-y"],a=P(i,Mt)&&!Pt["pan-x"];if(r){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return r||o&&6&n||a&&n&N?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ct=32;function Tt(t){this.options=u({},this.defaults,t||{}),this.id=j++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Rt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Lt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function jt(t,e){var n=e.manager;return n?n.get(t):t}function It(){Tt.apply(this,arguments)}function zt(){It.apply(this,arguments),this.pX=null,this.pY=null}function qt(){It.apply(this,arguments)}function At(){Tt.apply(this,arguments),this._timer=null,this._input=null}function Dt(){It.apply(this,arguments)}function Zt(){It.apply(this,arguments)}function Nt(){Tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ft(t,e){return(e=e||{}).recognizers=E(e.recognizers,Ft.defaults.preset),new Bt(t,e)}Tt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=jt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=jt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===C(e,t=jt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=jt(t,this);var e=C(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+Rt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+Rt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Ct},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=Ct);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(It,Tt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:Ct}}),_(zt,It,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(St),t&N&&e.push(Mt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return It.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Lt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(qt,It,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(At,Tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Ct},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(Dt,It,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(Zt,It,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return zt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&N&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Lt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Nt,Tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||X(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Ct},failTimeout:function(){return this._timer=f((function(){this.state=Ct}),this.options.interval,this),Ct},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ft.VERSION="2.0.7",Ft.defaults={domEvents:!1,touchAction:wt,enable:!0,inputTarget:null,inputClass:null,preset:[[Dt,{enable:!1}],[qt,{enable:!1},["rotate"]],[Zt,{direction:6}],[zt,{direction:6},["swipe"]],[Nt],[Nt,{event:"doubletap",taps:2},["tap"]],[At]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Bt(t,e){var n;this.options=u({},Ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(q?ot:A?dt:z?mt:tt))(n,U),this.touchAction=new Ot(this,this.options.touchAction),Vt(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Vt(t,e){var n,i=t.element;i.style&&(v(t.options.cssProps,(function(r,o){n=L(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Bt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Tt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=C(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return v(O(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return v(O(t),(function(t){e?n[t]&&n[t].splice(C(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Vt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ft,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ct,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:N,DIRECTION_ALL:30,Manager:Bt,Input:V,TouchAction:Ot,TouchInput:dt,MouseInput:tt,PointerEventInput:ot,TouchMouseInput:mt,SingleTouchInput:ct,Recognizer:Tt,AttrRecognizer:It,Tap:Nt,Pan:zt,Swipe:Zt,Pinch:qt,Rotate:Dt,Press:At,on:k,off:M,each:v,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:L}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ft,(i=function(){return Ft}.call(e,n,e,t))===s||(t.exports=i)}(window,document)},2272:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=r(e);n;)n=r(e=n.ownerDocument);return e}(),e=[],n=null,i=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(t,n){i=t&&n?h(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,i=null},a.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},a.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},a.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},a.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var i=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(i,this.POLL_INTERVAL):(s(n,"resize",i,!0),s(e,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(i)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),u(t,"resize",i,!0)),u(e,"scroll",i,!0),a&&a.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var l=r(e);l&&this._monitorIntersections(l.ownerDocument)}}},a.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var i=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=i;){var o=r(n);if((n=o&&o.ownerDocument)==e)return!0}return!1}))){var o=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),o(),e!=i){var a=r(e);a&&this._unmonitorIntersections(a.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},a.prototype._checkForIntersections=function(){if(this.root||!n||i){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,a=c(r),s=this._rootContainsTarget(r),u=i.entry,l=t&&s&&this._computeTargetAndRootIntersection(r,a,e),h=null;this._rootContainsTarget(r)?n&&!this.root||(h=e):h={top:0,bottom:0,left:0,right:0,width:0,height:0};var p=i.entry=new o({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:a,rootBounds:h,intersectionRect:l});u?t&&s?this._hasCrossedThreshold(u,p)&&this._queuedEntries.push(p):u&&u.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(e,r,o){if("none"!=window.getComputedStyle(e).display){for(var a,s,u,l,p,f,m,v,g=r,y=d(e),b=!1;!b&&y;){var _=null,w=1==y.nodeType?window.getComputedStyle(y):{};if("none"==w.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==t)n&&!this.root?!i||0==i.width&&0==i.height?(y=null,_=null,g=null):_=i:_=o;else{var x=d(y),E=x&&c(x),k=x&&this._computeTargetAndRootIntersection(x,E,o);E&&k?(y=x,_=h(E,k)):(y=null,g=null)}else{var M=y.ownerDocument;y!=M.body&&y!=M.documentElement&&"visible"!=w.overflow&&(_=c(y))}if(_&&(a=_,s=g,u=void 0,l=void 0,p=void 0,f=void 0,m=void 0,v=void 0,u=Math.max(a.top,s.top),l=Math.min(a.bottom,s.bottom),p=Math.max(a.left,s.left),f=Math.min(a.right,s.right),v=l-u,g=(m=f-p)>=0&&v>=0&&{top:u,bottom:l,left:p,right:f,width:m,height:v}||null),!g)break;y=y&&d(y)}return g}},a.prototype._getRootRect=function(){var e;if(this.root&&!f(this.root))e=c(this.root);else{var n=f(this.root)?this.root:t,i=n.documentElement,r=n.body;e={top:0,left:0,right:i.clientWidth||r.clientWidth,width:i.clientWidth||r.clientWidth,bottom:i.clientHeight||r.clientHeight,height:i.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},a.prototype._rootIsInDom=function(){return!this.root||p(t,this.root)},a.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return p(n,e)&&(!this.root||n==e.ownerDocument)},a.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},a.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function r(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(e){return null}}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=l(t.rootBounds),this.boundingClientRect=l(t.boundingClientRect),this.intersectionRect=l(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function a(t,e){var n,i,r,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function u(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function h(t,e){var n=e.top-t.top,i=e.left-t.left;return{top:n,left:i,height:e.height,width:e.width,bottom:n+e.height,right:i+e.width}}function p(t,e){for(var n=e;n;){if(n==t)return!0;n=d(n)}return!1}function d(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?r(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function f(t){return t&&9===t.nodeType}}()},1647:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var n;return"[object Object]"===e.call(t)&&(null===(n=Object.getPrototypeOf(t))||n===Object.getPrototypeOf({}))}},935:function(t,e,n){var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),h=Object.prototype.toString,p=Math.max,d=Math.min,f=function(){return l.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=o.test(t);return n||a.test(t)?s(t.slice(2),n?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var i,r,o,a,s,u,c=0,l=!1,h=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=i,o=r;return i=r=void 0,c=e,a=t.apply(o,n)}function b(t){return c=t,s=setTimeout(w,e),l?y(t):a}function _(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=o}function w(){var t=f();if(_(t))return x(t);s=setTimeout(w,function(t){var n=e-(t-u);return h?d(n,o-(t-c)):n}(t))}function x(t){return s=void 0,g&&i?y(t):(i=r=void 0,a)}function E(){var t=f(),n=_(t);if(i=arguments,r=this,u=t,n){if(void 0===s)return b(u);if(h)return s=setTimeout(w,e),y(u)}return void 0===s&&(s=setTimeout(w,e)),a}return e=v(e)||0,m(n)&&(l=!!n.leading,o=(h="maxWait"in n)?p(v(n.maxWait)||0,e):o,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=u=r=s=void 0},E.flush=function(){return void 0===s?a:x(f())},E}},2101:function(t){t.exports=function(){"use strict";function t(t,e){return void 0===e&&(e=document),"string"==typeof t?Array.from(e.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}function e(t){return"scrollama__debug-offset--"+t}function n(t){var n=t.id,i=t.offsetVal,r=t.stepClass,o=document.createElement("div");o.id=e(n),o.className="scrollama__debug-offset",o.style.position="fixed",o.style.left="0",o.style.width="100%",o.style.height="0",o.style.borderTop="2px dashed black",o.style.zIndex="9999";var a=document.createElement("p");a.innerHTML='".'+r+'" trigger: <span>'+i+"</span>",a.style.fontSize="12px",a.style.fontFamily="monospace",a.style.color="black",a.style.margin="0",a.style.padding="6px",o.appendChild(a),document.body.appendChild(o)}function i(t){n({id:t.id,offsetVal:t.offsetVal,stepClass:t.stepEl[0].className})}function r(t){var n=t.id,i=t.offsetMargin,r=t.offsetVal,o="pixels"===t.format?"px":"",a=e(n),s=document.getElementById(a);s.style.top=i+"px",s.querySelector("span").innerText=""+r+o}function o(t){var e=t.id,n=t.index,i=t.state,r="scrollama__debug-step--"+e+"-"+n,o=document.getElementById(r+"_above"),a=document.getElementById(r+"_below"),s="enter"===i?"block":"none";o&&(o.style.display=s),a&&(a.style.display=s)}function a(){var e=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],n={},a={},s=null,u=[],c=[],l=[],h=[],p=0,d=0,f=0,m=0,v=0,g=0,y=!1,b=!1,_=!1,w=!1,x=!1,E=!1,k="down",M="percent",S=[];function P(t){console.error("scrollama error: "+t)}function O(){n={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},a={}}function C(){var t="abcdefghijklmnopqrstuv",e=t.length,n=Date.now();return""+[0,0,0].map((function(n){return t[Math.floor(Math.random()*e)]})).join("")+n}function T(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function R(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}function L(t){return+t.getAttribute("data-scrollama-index")}function j(){window.pageYOffset>v?k="down":window.pageYOffset<v&&(k="up"),v=window.pageYOffset}function I(t){a[t]&&a[t].forEach((function(t){return t.disconnect()}))}function z(){f=window.innerHeight,m=R(),d=p*("pixels"===M?1:f),y&&(c=u.map((function(t){return t.getBoundingClientRect().height})),l=u.map(T),b&&Q()),_&&r({id:s,offsetMargin:d,offsetVal:p,format:M})}function q(t){if(t&&!b){if(!y)return P("scrollama error: enable() called before scroller was ready"),void(b=!1);Q()}!t&&b&&e.forEach(I),b=t}function A(t){for(var e=Math.ceil(t/g),n=[],i=1/e,r=0;r<e;r+=1)n.push(r*i);return n}function D(t,e){var i=L(t);void 0!==e&&(h[i].progress=e);var r={element:t,index:i,progress:h[i].progress};"enter"===h[i].state&&n.stepProgress(r)}function Z(t,e){if("above"===e)for(var n=0;n<t;n+=1){var i=h[n];"enter"!==i.state&&"down"!==i.direction?(N(u[n],"down",!1),F(u[n],"down")):"enter"===i.state&&F(u[n],"down")}else if("below"===e)for(var r=h.length-1;r>t;r-=1){var o=h[r];"enter"===o.state&&F(u[r],"up"),"down"===o.direction&&(N(u[r],"up",!1),F(u[r],"up"))}}function N(t,e,i){void 0===i&&(i=!0);var r=L(t),a={element:t,index:r,direction:e};h[r].direction=e,h[r].state="enter",x&&i&&"down"===e&&Z(r,"above"),x&&i&&"up"===e&&Z(r,"below"),n.stepEnter&&!S[r]&&(n.stepEnter(a,h),_&&o({id:s,index:r,state:"enter"}),E&&(S[r]=!0)),w&&D(t)}function F(t,e){var i=L(t),r={element:t,index:i,direction:e};w&&("down"===e&&h[i].progress<1?D(t,1):"up"===e&&h[i].progress>0&&D(t,0)),h[i].direction=e,h[i].state="exit",n.stepExit(r,h),_&&o({id:s,index:i,state:"exit"})}function B(t){var e=t[0];j();var n=e.isIntersecting,i=e.boundingClientRect,r=e.target,o=i.top,a=i.bottom,s=o-d,u=a-d,c=L(r),l=h[c];n&&s<=0&&u>=0&&"down"===k&&"enter"!==l.state&&N(r,k),!n&&s>0&&"up"===k&&"enter"===l.state&&F(r,k)}function V(t){var e=t[0];j();var n=e.isIntersecting,i=e.boundingClientRect,r=e.target,o=i.top,a=i.bottom,s=o-d,u=a-d,c=L(r),l=h[c];n&&s<=0&&u>=0&&"up"===k&&"enter"!==l.state&&N(r,k),!n&&u<0&&"down"===k&&"enter"===l.state&&F(r,k)}function U(t){var e=t[0];j();var n=e.isIntersecting,i=e.target,r=L(i),o=h[r];n&&"down"===k&&"down"!==o.direction&&"enter"!==o.state&&(N(i,"down"),F(i,"down"))}function W(t){var e=t[0];j();var n=e.isIntersecting,i=e.target,r=L(i),o=h[r];n&&"up"===k&&"down"===o.direction&&"enter"!==o.state&&(N(i,"up"),F(i,"up"))}function H(t){var e=t[0];j();var n=e.isIntersecting,i=e.intersectionRatio,r=e.boundingClientRect,o=e.target,a=r.bottom;n&&a-d>=0&&D(o,+i)}function G(){a.viewportAbove=u.map((function(t,e){var n=m-l[e],i=d-f-c[e],r=new IntersectionObserver(U,{rootMargin:n+"px 0px "+i+"px 0px"});return r.observe(t),r}))}function Y(){a.viewportBelow=u.map((function(t,e){var n=-d-c[e],i=d-f+c[e]+m,r=new IntersectionObserver(W,{rootMargin:n+"px 0px "+i+"px 0px"});return r.observe(t),r}))}function X(){a.stepAbove=u.map((function(t,e){var n=-d+c[e],i=new IntersectionObserver(B,{rootMargin:n+"px 0px "+(d-f)+"px 0px"});return i.observe(t),i}))}function J(){a.stepBelow=u.map((function(t,e){var n=-d,i=d-f+c[e],r=new IntersectionObserver(V,{rootMargin:n+"px 0px "+i+"px 0px"});return r.observe(t),r}))}function K(){a.stepProgress=u.map((function(t,e){var n=c[e]-d+"px 0px "+(-f+d)+"px 0px",i=A(c[e]),r=new IntersectionObserver(H,{rootMargin:n,threshold:i});return r.observe(t),r}))}function Q(){e.forEach(I),G(),Y(),X(),J(),w&&K()}function $(){u.forEach((function(t,e){return t.setAttribute("data-scrollama-index",e)}))}function tt(){h=u.map((function(){return{direction:null,state:null,progress:0}}))}function et(){_&&i({id:s,stepEl:u,offsetVal:p})}function nt(t){var e=window.getComputedStyle(t);return("scroll"===e.overflowY||"auto"===e.overflowY)&&t.scrollHeight>t.clientHeight}function it(t){return!(!t||1!==t.nodeType)&&(nt(t)?t:it(t.parentNode))}var rt={setup:function(e){var n=e.step,i=e.parent,r=e.offset;void 0===r&&(r=.5);var o=e.progress;void 0===o&&(o=!1);var a=e.threshold;void 0===a&&(a=4);var c=e.debug;void 0===c&&(c=!1);var l=e.order;void 0===l&&(l=!0);var h=e.once;if(void 0===h&&(h=!1),O(),s=C(),!(u=t(n,i)).length)return P("no step elements"),rt;var p=u.reduce((function(t,e){return t||it(e.parentNode)}),!1);return p&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",p),_=c,w=o,x=l,E=h,rt.offsetTrigger(r),g=Math.max(1,+a),y=!0,et(),$(),tt(),z(),rt.enable(),rt},resize:function(){return z(),rt},enable:function(){return q(!0),rt},disable:function(){return q(!1),rt},destroy:function(){q(!1),O()},offsetTrigger:function(t){if(null===t)return p;if("number"==typeof t)M="percent",t>1&&P("offset value is greater than 1. Fallback to 1."),t<0&&P("offset value is lower than 0. Fallback to 0."),p=Math.min(Math.max(0,t),1);else if("string"==typeof t&&t.indexOf("px")>0){var e=+t.replace("px","");isNaN(e)?(P("offset value must be in 'px' format. Fallback to 0.5."),p=.5):(M="pixels",p=e)}else P("offset value does not include 'px'. Fallback to 0.5."),p=.5;return rt},onStepEnter:function(t){return"function"==typeof t?n.stepEnter=t:P("onStepEnter requires a function"),rt},onStepExit:function(t){return"function"==typeof t?n.stepExit=t:P("onStepExit requires a function"),rt},onStepProgress:function(t){return"function"==typeof t?n.stepProgress=t:P("onStepProgress requires a function"),rt}};return rt}return a}()},7603:function(t){var e,n;e=this,n=function(){var t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function e(e){return e.match(t)||[]}function n(t){return{language:(t=e(t))[1]||"",extlang:t[2]||"",script:t[3]||"",region:t[4]||""}}function i(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!0})}function r(t,r,o){function a(n){return e(n)[t]||""}i(a,"pattern",r),i(n,o,a)}return r(1,/^[a-zA-Z]{2,3}$/,"language"),r(2,/^[a-zA-Z]{3}$/,"extlang"),r(3,/^[a-zA-Z]{4}$/,"script"),r(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),i(n,"split",(function(t){return e(t).filter((function(t,e){return t&&e}))})),n},t.exports?t.exports=n():e.subtag=n()},4396:function(t,e,n){"use strict";var i=n(2244);t.exports=i,"undefined"!=typeof window&&(window.Suggestions=i)},5849:function(t){"use strict";var e=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};e.prototype.show=function(){this.element.style.display="block"},e.prototype.hide=function(){this.element.style.display="none"},e.prototype.add=function(t){this.items.push(t)},e.prototype.clear=function(){this.items=[],this.active=0},e.prototype.isEmpty=function(){return!this.items.length},e.prototype.isVisible=function(){return"block"===this.element.style.display},e.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()}else this.hide()},e.prototype.drawItem=function(t,e){var n=document.createElement("li"),i=document.createElement("a");e&&(n.className+=" active"),i.innerHTML=t.string,n.appendChild(i),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,t)}.bind(this))},e.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},e.prototype.move=function(t){this.active=t,this.draw()},e.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},e.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},e.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},t.exports=e},2244:function(t,e,n){"use strict";var i=n(6297),r=n(8261),o=n(5849),a=function(t,e,n){return n=n||{},this.options=i({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=t,this.data=e||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(t){this.handleKeyUp(t.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(t){this.handleKeyDown(t)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(t){this.handlePaste(t)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(t){40!==t&&38!==t&&27!==t&&13!==t&&9!==t&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},a.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout((function(){e.handleInputChange(t.target.value)}),100)}},a.prototype.handleInputChange=function(t){this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(t){for(var e=0;e<t.length&&(this.list.add(t[e]),e!==this.options.limit-1);e++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(t){this.data=t,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(t){return t=t.toLowerCase()},a.prototype.match=function(t,e){return t.indexOf(e)>-1},a.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(t){var e={pre:"<strong>",post:"</strong>",extract:function(t){return this.getItemValue(t)}.bind(this)};t(this.options.filter?r.filter(this.query,this.data,e).map(function(t){return{original:t.original,string:this.render(t.original,t.string)}}.bind(this)):this.data.map(function(t){return{original:t,string:this.render(t)}}.bind(this)))},a.prototype.getItemValue=function(t){return t},a.prototype.render=function(t,e){if(e)return e;for(var n=t.original?this.getItemValue(t.original):this.getItemValue(t),i=this.normalize(n),r=i.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;n=n.slice(0,r)+"<strong>"+n.slice(r,o)+"</strong>"+n.slice(o),r=i.slice(0,r).lastIndexOf(this.query)}return n},a.prototype.renderError=function(t){this.list.drawError(t)},t.exports=a},6297:function(t){t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=Object.prototype.hasOwnProperty},3666:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return la}});var i=n(7294),r=n(5734),o=n(5414),a=n(7159),s=n(1494),u=n(9312);var c=(0,r.iv)("background-color:",u.lB.indigo,";height:67.5rem;position:relative;",""),l=(0,r.iv)("display:flex;flex-direction:column;height:67.5rem;position:relative;z-index:10;",u.tF,";",""),h=(0,r.iv)("color:",u.lB.white,";font-family:",u.Rq.calibre,";font-size:10rem;font-weight:400;line-height:14rem;margin:0;margin:8rem 0 1rem 0;",""),p=(0,r.iv)("background:",u.lB.sky,";color:",u.lB.indigo,";padding:2rem 2rem 0;",""),d=(0,r.iv)("color:",u.lB.white,";font-family:",u.Rq.swiftNeueLtPro,";font-size:3.6rem;font-weight:normal;line-height:5rem;width:65rem;",""),f={name:"a4hmbt",styles:"position:absolute"},m=function(){var t=(0,i.useState)("undefined"!=typeof window?window.innerWidth:0),e=t[0],n=t[1];return(0,i.useEffect)((function(){var t=function(){return n(window.innerWidth)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),(0,r.tZ)("header",{css:c},(0,r.tZ)("svg",{css:f,height:"67.5rem",width:e-15},(0,r.tZ)("line",{x1:e,y1:"0",x2:e/2,y2:"675",stroke:u.lB.gossamer,strokeOpacity:".25"}),(0,r.tZ)("line",{x1:e,y1:"100",x2:e/2+100,y2:"675",stroke:u.lB.gossamer,strokeOpacity:".25"})),(0,r.tZ)("div",{css:l},(0,r.tZ)(s.Z,null),(0,r.tZ)("h1",{css:h},(0,r.tZ)("span",{css:p},"Rethink")," ",(0,r.tZ)("span",null,"the Suburban Strip")),(0,r.tZ)("p",{css:d},"First best place to start transforming old uses the meet the needs of residents")))},v=(n(2272),n(2101)),g=n.n(v),y=n(2122);function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}var E=n(4665);function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,E.Z)(t,e)}var M=n(8);function S(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?_(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C=n(5697),T=n.n(C);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var z=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function q(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},i=j(t.layers);try{for(i.s();!(e=i.n()).done;){var r=e.value;n[r.id]=r}}catch(a){i.e(a)}finally{i.f()}var o=t.layers.map((function(t){var e=n[t.ref],i=null;if("interactive"in t&&delete(i=L({},t)).interactive,e){delete(i=i||L({},t)).ref;var r,o=j(z);try{for(o.s();!(r=o.n()).done;){var s=r.value;s in e&&(i[s]=e[s])}}catch(a){o.e(a)}finally{o.f()}}return i||t}));return L(L({},t),{},{layers:o})}var A=n(7329);var D=n(2961);function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||(0,D.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(2536);var N=1e-6,F="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function B(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function V(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var U,W;U=new F(4),F!=Float32Array&&(U[0]=0,U[1]=0,U[2]=0,U[3]=0),W=U;function H(t,e){var n=V([],e,t);return B(n,n,1/n[3]),n}function G(t,e){var n=t%e;return n<0?e+n:n}function Y(t,e,n){return n*e+(1-n)*t}function X(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],p=e[10],d=e[11],f=e[12],m=e[13],v=e[14],g=e[15],y=n*s-i*a,b=n*u-r*a,_=n*c-o*a,w=i*u-r*s,x=i*c-o*s,E=r*c-o*u,k=l*m-h*f,M=l*v-p*f,S=l*g-d*f,P=h*v-p*m,O=h*g-d*m,C=p*g-d*v,T=y*C-b*O+_*P+w*S-x*M+E*k;return T?(T=1/T,t[0]=(s*C-u*O+c*P)*T,t[1]=(r*O-i*C-o*P)*T,t[2]=(m*E-v*x+g*w)*T,t[3]=(p*x-h*E-d*w)*T,t[4]=(u*S-a*C-c*M)*T,t[5]=(n*C-r*S+o*M)*T,t[6]=(v*_-f*E-g*b)*T,t[7]=(l*E-p*_+d*b)*T,t[8]=(a*O-s*S+c*k)*T,t[9]=(i*S-n*O-o*k)*T,t[10]=(f*x-m*_+g*y)*T,t[11]=(h*_-l*x-d*y)*T,t[12]=(s*M-a*P-u*k)*T,t[13]=(n*P-i*M+r*k)*T,t[14]=(m*b-f*w-v*y)*T,t[15]=(l*w-h*b+p*y)*T,t):null}function J(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],d=e[10],f=e[11],m=e[12],v=e[13],g=e[14],y=e[15],b=n[0],_=n[1],w=n[2],x=n[3];return t[0]=b*i+_*s+w*h+x*m,t[1]=b*r+_*u+w*p+x*v,t[2]=b*o+_*c+w*d+x*g,t[3]=b*a+_*l+w*f+x*y,b=n[4],_=n[5],w=n[6],x=n[7],t[4]=b*i+_*s+w*h+x*m,t[5]=b*r+_*u+w*p+x*v,t[6]=b*o+_*c+w*d+x*g,t[7]=b*a+_*l+w*f+x*y,b=n[8],_=n[9],w=n[10],x=n[11],t[8]=b*i+_*s+w*h+x*m,t[9]=b*r+_*u+w*p+x*v,t[10]=b*o+_*c+w*d+x*g,t[11]=b*a+_*l+w*f+x*y,b=n[12],_=n[13],w=n[14],x=n[15],t[12]=b*i+_*s+w*h+x*m,t[13]=b*r+_*u+w*p+x*v,t[14]=b*o+_*c+w*d+x*g,t[15]=b*a+_*l+w*f+x*y,t}function K(t,e,n){var i,r,o,a,s,u,c,l,h,p,d,f,m=n[0],v=n[1],g=n[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*g+e[12],t[13]=e[1]*m+e[5]*v+e[9]*g+e[13],t[14]=e[2]*m+e[6]*v+e[10]*g+e[14],t[15]=e[3]*m+e[7]*v+e[11]*g+e[15]):(i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],p=e[9],d=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=h,t[9]=p,t[10]=d,t[11]=f,t[12]=i*m+s*v+h*g+e[12],t[13]=r*m+u*v+p*g+e[13],t[14]=o*m+c*v+d*g+e[14],t[15]=a*m+l*v+f*g+e[15]),t}function Q(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+c*i,t[5]=a*r+l*i,t[6]=s*r+h*i,t[7]=u*r+p*i,t[8]=c*r-o*i,t[9]=l*r-a*i,t[10]=h*r-s*i,t[11]=p*r-u*i,t}function tt(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+c*i,t[1]=a*r+l*i,t[2]=s*r+h*i,t[3]=u*r+p*i,t[4]=c*r-o*i,t[5]=l*r-a*i,t[6]=h*r-s*i,t[7]=p*r-u*i,t}function et(t,e,n,i,r){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(o=1/(i-r),t[10]=(r+i)*o,t[14]=2*r*i*o):(t[10]=-1,t[14]=-2*i),t}function nt(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],p=t[10],d=t[11],f=t[12],m=t[13],v=t[14],g=t[15],y=e[0],b=e[1],_=e[2],w=e[3],x=e[4],E=e[5],k=e[6],M=e[7],S=e[8],P=e[9],O=e[10],C=e[11],T=e[12],R=e[13],L=e[14],j=e[15];return Math.abs(n-y)<=N*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-b)<=N*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(r-_)<=N*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(o-w)<=N*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-x)<=N*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-E)<=N*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-k)<=N*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-M)<=N*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(l-S)<=N*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(h-P)<=N*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(p-O)<=N*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(d-C)<=N*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(f-T)<=N*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(m-R)<=N*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(v-L)<=N*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(g-j)<=N*Math.max(1,Math.abs(g),Math.abs(j))}function it(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function rt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ot(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function at(t,e){return t[0]=-e[0],t[1]=-e[1],t}function st(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t}var ut=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new F(2);return F!=Float32Array&&(t[0]=0,t[1]=0),t}()}();function ct(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}!function(){var t=function(){var t=new F(3);return F!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function lt(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}var ht=Math.PI,pt=ht/4,dt=ht/180,ft=180/ht,mt=512;function vt(t){return Math.pow(2,t)}function gt(t){return Math.log2(t)}function yt(t){var e=Z(t,2),n=e[0],i=e[1];lt(Number.isFinite(n)),lt(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");var r=i*dt;return[mt*(n*dt+ht)/(2*ht),mt*(ht+Math.log(Math.tan(pt+.5*r)))/(2*ht)]}function bt(t){var e=Z(t,2),n=e[0],i=e[1],r=n/mt*(2*ht)-ht,o=2*(Math.atan(Math.exp(i/mt*(2*ht)-ht))-pt);return[r*ft,o*ft]}function _t(t){var e=t.latitude,n=t.longitude,i=t.highPrecision,r=void 0!==i&&i;lt(Number.isFinite(e)&&Number.isFinite(n));var o={},a=Math.cos(e*dt),s=512/360,u=s/a,c=12790407194604047e-21/a;if(o.unitsPerMeter=[c,c,c],o.metersPerUnit=[1/c,1/c,1/c],o.unitsPerDegree=[s,u,c],o.degreesPerUnit=[.703125,1/u,1/c],r){var l=dt*Math.tan(e*dt)/a,h=s*l/2,p=12790407194604047e-21*l,d=p/u*c;o.unitsPerDegree2=[0,h,p],o.unitsPerMeter2=[d,0,d]}return o}function wt(t){var e=t.height,n=t.pitch,i=t.bearing,r=t.altitude,o=t.scale,a=t.center,s=void 0===a?null:a,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return K(u,u,[0,0,-r]),$(u,u,-n*dt),tt(u,u,i*dt),Q(u,u,[o/=e,o,o]),s&&K(u,u,ct([],s)),u}function xt(t){var e=t.width,n=t.height,i=t.pitch,r=function(t){var e=t.width,n=t.height,i=t.altitude,r=void 0===i?1.5:i,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,c=t.farZMultiplier,l=void 0===c?1:c,h=a*dt,p=Math.atan(.5/r),d=Math.sin(p)*r/Math.sin(Math.min(Math.max(Math.PI/2-h-p,.01),Math.PI-.01));return{fov:2*p,aspect:e/n,focalDistance:r,near:u,far:(Math.sin(h)*d+r)*l}}({width:e,height:n,altitude:t.altitude,pitch:i,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier});return et([],r.fov,r.aspect,r.near,r.far)}function Et(t,e){var n=Z(t,3),i=n[0],r=n[1],o=n[2],a=void 0===o?0:o;return lt(Number.isFinite(i)&&Number.isFinite(r)&&Number.isFinite(a)),H(e,[i,r,a,1])}function kt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Z(t,3),r=i[0],o=i[1],a=i[2];if(lt(Number.isFinite(r)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=H(e,[r,o,a,1]);return s}var u=H(e,[r,o,0,1]),c=H(e,[r,o,1,1]),l=u[2],h=c[2],p=l===h?0:((n||0)-l)/(h-l);return st([],u,c,p)}function Mt(t){var e=t.width,n=t.height,i=t.bounds,r=t.minExtent,o=void 0===r?0:r,a=t.maxZoom,s=void 0===a?24:a,u=t.padding,c=void 0===u?0:u,l=t.offset,h=void 0===l?[0,0]:l,p=Z(i,2),d=Z(p[0],2),f=d[0],m=d[1],v=Z(p[1],2),g=v[0],y=v[1];if(Number.isFinite(c)){c={top:c,bottom:c,left:c,right:c}}else lt(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var b=new Ct({width:e,height:n,longitude:0,latitude:0,zoom:0}),_=b.project([f,y]),w=b.project([g,m]),x=[Math.max(Math.abs(w[0]-_[0]),o),Math.max(Math.abs(w[1]-_[1]),o)],E=[e-c.left-c.right-2*Math.abs(h[0]),n-c.top-c.bottom-2*Math.abs(h[1])];lt(E[0]>0&&E[1]>0);var k=E[0]/x[0],M=E[1]/x[1],S=(c.right-c.left)/2/k,P=(c.bottom-c.top)/2/M,O=[(w[0]+_[0])/2+S,(w[1]+_[1])/2+P],C=b.unproject(O),T=Math.min(s,b.zoom+Math.log2(Math.abs(Math.min(k,M))));return lt(Number.isFinite(T)),{longitude:C[0],latitude:C[1],zoom:T}}var St=Math.PI/180;function Pt(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.width,o=t.height,a=t.unproject,s={targetZ:i},u=a([0,o],s),c=a([r,o],s),l=Math.atan(.5/t.altitude),h=(90-t.pitch)*St;return l>h-.01?(e=Ot(t,0,i),n=Ot(t,r,i)):(e=a([0,0],s),n=a([r,0],s)),[u,c,n,e]}function Ot(t,e,n){var i=t.pixelUnprojectionMatrix,r=H(i,[e,0,1,1]),o=H(i,[e,t.height,1,1]),a=bt(st([],r,o,(n*t.distanceScales.unitsPerMeter[2]-r[2])/(o[2]-r[2])));return a[2]=n,a}var Ct=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=e.width,i=e.height,r=e.latitude,o=void 0===r?0:r,a=e.longitude,s=void 0===a?0:a,u=e.zoom,c=void 0===u?0:u,l=e.pitch,h=void 0===l?0:l,p=e.bearing,d=void 0===p?0:p,f=e.altitude,m=void 0===f?1.5:f,v=e.nearZMultiplier,g=void 0===v?.02:v,y=e.farZMultiplier,_=void 0===y?1.01:y;b(this,t),n=n||1,i=i||1;var w=vt(c);m=Math.max(.75,m);var x=yt([s,o]);x[2]=0,this.projectionMatrix=xt({width:n,height:i,pitch:h,altitude:m,nearZMultiplier:g,farZMultiplier:_}),this.viewMatrix=wt({height:i,scale:w,center:x,pitch:h,bearing:d,altitude:m}),this.width=n,this.height=i,this.scale=w,this.latitude=o,this.longitude=s,this.zoom=c,this.pitch=h,this.bearing=d,this.altitude=m,this.center=x,this.distanceScales=_t(this),this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return x(t,[{key:"_initMatrices",value:function(){var t=this.width,e=this.height,n=this.projectionMatrix,i=this.viewMatrix,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];J(r,r,n),J(r,r,i),this.viewProjectionMatrix=r;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Q(o,o,[t/2,-e/2,1]),K(o,o,[1,-1,0]),J(o,o,r);var a=X([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=o,this.pixelUnprojectionMatrix=a}},{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&nt(e.projectionMatrix,this.projectionMatrix)&&nt(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,i=void 0===n||n,r=this.projectPosition(t),o=Et(r,this.pixelProjectionMatrix),a=Z(o,2),s=a[0],u=a[1],c=i?u:this.height-u;return 2===t.length?[s,c]:[s,c,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,i=void 0===n||n,r=e.targetZ,o=void 0===r?void 0:r,a=Z(t,3),s=a[0],u=a[1],c=a[2],l=i?u:this.height-u,h=o&&o*this.distanceScales.unitsPerMeter[2],p=kt([s,l,c],this.pixelUnprojectionMatrix,h),d=this.unprojectPosition(p),f=Z(d,3),m=f[0],v=f[1],g=f[2];return Number.isFinite(c)?[m,v,g]:Number.isFinite(o)?[m,v,o]:[m,v]}},{key:"projectPosition",value:function(t){var e=Z(yt(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(t){var e=Z(bt(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(t){return yt(t)}},{key:"unprojectFlat",value:function(t){return bt(t)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=kt(t.pos,this.pixelUnprojectionMatrix),i=it([],yt(e),at([],n));return bt(it([],this.center,i))}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.width,r=this.height,o=Mt(Object.assign({width:i,height:r,bounds:e},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new t({width:i,height:r,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(t){var e=this.getBoundingRegion(t),n=Math.min.apply(Math,(0,A.Z)(e.map((function(t){return t[0]})))),i=Math.max.apply(Math,(0,A.Z)(e.map((function(t){return t[0]}))));return[[n,Math.min.apply(Math,(0,A.Z)(e.map((function(t){return t[1]}))))],[i,Math.max.apply(Math,(0,A.Z)(e.map((function(t){return t[1]}))))]]}},{key:"getBoundingRegion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pt(this,t.z||0)}}]),t}(),Tt=85.05113,Rt=-85.05113;function Lt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var It=.01,zt=["longitude","latitude","zoom"],qt={curve:1.414,speed:1.2};function At(t,e,n){var i=(n=Object.assign({},qt,n)).curve,r=t.zoom,o=[t.longitude,t.latitude],a=vt(r),s=e.zoom,u=[e.longitude,e.latitude],c=vt(s-r),l=yt(o),h=yt(u),p=ut([],h,l),d=Math.max(t.width,t.height),f=d/c,m=ot(p)*a,v=Math.max(m,It),g=i*i,y=(f*f-d*d+g*g*v*v)/(2*d*g*v),b=(f*f-d*d-g*g*v*v)/(2*f*g*v),_=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:r,startCenterXY:l,uDelta:p,w0:d,u1:m,S:(w-_)/i,rho:i,rho2:g,r0:_,r1:w}}function Dt(t){var e;e="undefined"!=typeof window?window:"undefined"!=typeof self?self:n.g;var i,r,o="undefined"!=typeof document&&document.attachEvent;if(!o){var a=(r=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},function(t){return r(t)}),s=(i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout,function(t){return i(t)}),u=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,i=e.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;u(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},l=!1,h="",p="animationstart",d="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(l=!0),!1===l)for(var v=0;v<d.length;v++)if(void 0!==m.style[d[v]+"AnimationName"]){h="-"+d[v].toLowerCase()+"-",p=f[v],l=!0;break}var g="resizeanim",y="@"+h+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",b=h+"animation: 1ms "+g+"; "}return{addResizeListener:function(n,i){if(o)n.attachEvent("onresize",i);else{if(!n.__resizeTriggers__){var r=n.ownerDocument,a=e.getComputedStyle(n);a&&"static"==a.position&&(n.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.id="detectElementResize",r.type="text/css",null!=t&&r.setAttribute("nonce",t),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(e.createTextNode(n)),i.appendChild(r)}}(r),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=r.createElement("div")).className="resize-triggers";var s=r.createElement("div");s.className="expand-trigger",s.appendChild(r.createElement("div"));var l=r.createElement("div");l.className="contract-trigger",n.__resizeTriggers__.appendChild(s),n.__resizeTriggers__.appendChild(l),n.appendChild(n.__resizeTriggers__),u(n),n.addEventListener("scroll",c,!0),p&&(n.__resizeTriggers__.__animationListener__=function(t){t.animationName==g&&u(n)},n.__resizeTriggers__.addEventListener(p,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(i)}},removeResizeListener:function(t,e){if(o)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",c,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(p,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(n){}}}}}var Zt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Nt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Vt=function(t){function e(){var t,n,i;Zt(this,e);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=Bt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),i.state={height:i.props.defaultHeight||0,width:i.props.defaultWidth||0},i._onResize=function(){var t=i.props,e=t.disableHeight,n=t.disableWidth,r=t.onResize;if(i._parentNode){var o=i._parentNode.offsetHeight||0,a=i._parentNode.offsetWidth||0,s=window.getComputedStyle(i._parentNode)||{},u=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,p=o-l-h,d=a-u-c;(!e&&i.state.height!==p||!n&&i.state.width!==d)&&(i.setState({height:o-l-h,width:a-u-c}),r({height:o,width:a}))}},i._setRef=function(t){i._autoSizer=t},Bt(i,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Nt(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Dt(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,o=t.disableWidth,a=t.style,s=this.state,u=s.height,c=s.width,l={overflow:"visible"},h={},p=!1;return r||(0===u&&(p=!0),l.height=0,h.height=u),o||(0===c&&(p=!0),l.width=0,h.width=c),(0,i.createElement)("div",{className:n,ref:this._setRef,style:Ft({},l,a)},!p&&e(h))}}]),e}(i.PureComponent);Vt.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var Ut=Vt,Wt="undefined"!=typeof window?window:n.g,Ht=(void 0!==n.g?n.g:window,"undefined"!=typeof document?document:{});var Gt={container:T().object,gl:T().object,mapboxApiAccessToken:T().string,mapboxApiUrl:T().string,attributionControl:T().bool,preserveDrawingBuffer:T().bool,reuseMaps:T().bool,transformRequest:T().func,mapOptions:T().object,mapStyle:T().oneOfType([T().string,T().object]),visible:T().bool,asyncRender:T().bool,onLoad:T().func,onError:T().func,width:T().number,height:T().number,viewState:T().object,longitude:T().number,latitude:T().number,zoom:T().number,bearing:T().number,pitch:T().number,altitude:T().number},Yt={container:Ht.body,mapboxApiAccessToken:function(){var t=null;if("undefined"!=typeof window&&window.location){var e=window.location.search.match(/access_token=([^&\/]*)/);t=e&&e[1]}t||"undefined"==typeof process||(t=t||{}.MapboxAccessToken||{}.REACT_APP_MAPBOX_ACCESS_TOKEN);return t||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function Xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&T().checkPropTypes(Gt,t,"prop",e)}var Jt=function(){function t(e){var n=this;if(b(this,t),O(this,"mapboxgl",void 0),O(this,"props",Yt),O(this,"_map",null),O(this,"width",0),O(this,"height",0),O(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return x(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),i=e.container;for(i.classList.add("mapboxgl-map");n.childNodes.length>0;)i.appendChild(n.childNodes[0]);this._map._container=i,t.savedMap=null,e.mapStyle&&this._map.setStyle(e.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var i={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:e.mapStyle,interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(i.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},i,e.mapOptions)),this._map.once("load",e.onLoad),this._map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){this._map&&(t.savedMap?this._map.remove():(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(t){var e=this;Xt(t=Object.assign({},Yt,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||Yt.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var i=this._map.getCanvas();i&&(i.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){Xt(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),i=this._updateMapSize(t,e);e.asyncRender||!n&&!i||this.redraw(),this.props=e}}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),i=this._getViewState(e),r=i.latitude!==n.latitude||i.longitude!==n.longitude||i.zoom!==n.zoom||i.pitch!==n.pitch||i.bearing!==n.bearing||i.altitude!==n.altitude;return r&&(this._map.jumpTo(this._viewStateToMapboxProps(i)),i.altitude!==n.altitude&&(this._map.transform.altitude=i.altitude)),r}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,i=e.latitude,r=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,u=void 0===s?0:s,c=e.altitude;return{longitude:n,latitude:i,zoom:r,pitch:a,bearing:u,altitude:void 0===c?1.5:c}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==Ht)try{var e=Ht.createElement("div");e.className="mapboxgl-map",e.style.display="none",Ht.body.appendChild(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var i=Ht.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),Ht.head.appendChild(i)}}catch(r){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();O(Jt,"initialized",!1),O(Jt,"propTypes",Gt),O(Jt,"defaultProps",Yt),O(Jt,"savedMap",null);var Kt=n(2974),Qt=n.n(Kt);function $t(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function te(t,e){if(t===e)return!0;if($t(t)&&$t(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!te(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function ee(t,e,n){return Math.max(e,Math.min(n,t))}function ne(t,e,n){return $t(t)?t.map((function(t,i){return ne(t,e[i],n)})):n*e+(1-n)*t}function ie(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function re(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ae=function(){function t(){b(this,t),O(this,"propNames",[])}return x(t,[{key:"arePropsEqual",value:function(t,e){var n,i=re(this.propNames||[]);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!te(t[r],e[r]))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){ie(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),se={longitude:1,bearing:1};function ue(t){return Number.isFinite(t)||Array.isArray(t)}function ce(t,e,n){return function(t){return t in se}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function le(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return he(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function he(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}var de=["longitude","latitude","zoom","bearing","pitch"],fe=["latitude","longitude","zoom","width","height"],me=["bearing","pitch"],ve={speed:1.2,curve:1.414},ge=function(t){k(n,t);var e=pe(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this,n),O(_(t=e.call(this)),"speed",void 0),O(_(t),"propNames",de),O(_(t),"props",void 0),t.props=Object.assign({},ve,i),t}return x(n,[{key:"initializeProps",value:function(t,e){var n,i={},r={},o=le(fe);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=t[a],u=e[a];ie(ue(s)&&ue(u),"".concat(a," must be supplied for transition")),i[a]=s,r[a]=ce(a,s,u)}}catch(f){o.e(f)}finally{o.f()}var c,l=le(me);try{for(l.s();!(c=l.n()).done;){var h=c.value,p=t[h]||0,d=e[h]||0;i[h]=p,r[h]=ce(h,p,d)}}catch(f){l.e(f)}finally{l.f()}return{start:i,end:r}}},{key:"interpolateProps",value:function(t,e,n){var i,r=function(t,e,n){var i={},r=At(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),o=r.startZoom,a=r.startCenterXY,s=r.uDelta,u=r.w0,c=r.u1,l=r.S,h=r.rho,p=r.rho2,d=r.r0;if(c<It){var f,m=Lt(zt);try{for(m.s();!(f=m.n()).done;){var v=f.value,g=t[v],y=e[v];i[v]=Y(g,y,n)}}catch(M){m.e(M)}finally{m.f()}return i}var b=n*l,_=Math.cosh(d)/Math.cosh(d+h*b),w=u*((Math.cosh(d)*Math.tanh(d+h*b)-Math.sinh(d))/p)/c,x=o+gt(1/_),E=rt([],s,w);it(E,E,a);var k=bt(E);return i.longitude=k[0],i.latitude=k[1],i.zoom=x,i}(t,e,n,this.props),o=le(me);try{for(o.s();!(i=o.n()).done;){var a=i.value;r[a]=ne(t[a],e[a],n)}}catch(s){o.e(s)}finally{o.f()}return r}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i=Object.assign({},qt,i),o=r.screenSpeed,a=r.speed,s=r.maxDuration,u=At(t,e,i),c=u.S,l=u.rho,h=1e3*c;return n=Number.isFinite(o)?h/(o/l):h/a,Number.isFinite(s)&&n>s?0:n}(t,e,this.props)),n}}]),n}(ae);function ye(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}var we=["longitude","latitude","zoom","bearing","pitch"],xe=function(t){k(n,t);var e=_e(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this,n),O(_(t=e.call(this)),"around",void 0),Array.isArray(i)&&(i={transitionProps:i}),t.propNames=i.transitionProps||we,i.around&&(t.around=i.around),t}return x(n,[{key:"initializeProps",value:function(t,e){var n={},i={};if(this.around){n.around=this.around;var r=new Ct(t).unproject(this.around);Object.assign(i,e,{around:new Ct(e).project(r),aroundLngLat:r})}var o,a=ye(this.propNames);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=t[s],c=e[s];ie(ue(u)&&ue(c),"".concat(s," must be supplied for transition")),n[s]=u,i[s]=ce(s,u,c)}}catch(l){a.e(l)}finally{a.f()}return{start:n,end:i}}},{key:"interpolateProps",value:function(t,e,n){var i,r={},o=ye(this.propNames);try{for(o.s();!(i=o.n()).done;){var a=i.value;r[a]=ne(t[a],e[a],n)}}catch(l){o.e(l)}finally{o.f()}if(e.around){var s=Z(new Ct(Object.assign({},e,r)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:ne(t.around,e.around,n)}),2),u=s[0],c=s[1];r.longitude=u,r.latitude=c}return r}}]),n}(ae),Ee={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},ke=0,Me=0,Se=1.5,Pe=function(){function t(e){var n=e.width,i=e.height,r=e.latitude,o=e.longitude,a=e.zoom,s=e.bearing,u=void 0===s?Me:s,c=e.pitch,l=void 0===c?ke:c,h=e.altitude,p=void 0===h?Se:h,d=e.maxZoom,f=void 0===d?Ee.maxZoom:d,m=e.minZoom,v=void 0===m?Ee.minZoom:m,g=e.maxPitch,y=void 0===g?Ee.maxPitch:g,_=e.minPitch,w=void 0===_?Ee.minPitch:_,x=e.transitionDuration,E=e.transitionEasing,k=e.transitionInterpolator,M=e.transitionInterruption,S=e.startPanLngLat,P=e.startZoomLngLat,C=e.startBearing,T=e.startPitch,R=e.startZoom;b(this,t),O(this,"_viewportProps",void 0),O(this,"_interactiveState",void 0),ie(Number.isFinite(n),"`width` must be supplied"),ie(Number.isFinite(i),"`height` must be supplied"),ie(Number.isFinite(o),"`longitude` must be supplied"),ie(Number.isFinite(r),"`latitude` must be supplied"),ie(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:i,latitude:r,longitude:o,zoom:a,bearing:u,pitch:l,altitude:p,maxZoom:f,minZoom:v,maxPitch:y,minPitch:w,transitionDuration:x,transitionEasing:E,transitionInterpolator:k,transitionInterruption:M}),this._interactiveState={startPanLngLat:S,startZoomLngLat:P,startBearing:C,startPitch:T,startZoom:R}}return x(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,i=this._interactiveState.startPanLngLat||this._unproject(n);if(!i)return this;var r=Z(this._calculateNewLngLat({startPanLngLat:i,pos:e}),2),o=r[0],a=r[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,i=t.deltaScaleY,r=void 0===i?0:i,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:r,startBearing:a||0,startPitch:s||0}),c=u.pitch,l=u.bearing;return this._getUpdatedMapState({bearing:l,pitch:c})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,i=t.scale;ie(i>0,"`scale` must be a positive number");var r=this._interactiveState,o=r.startZoom,a=r.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),ie(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:i,startZoom:o||0}),u=Z(new Ct(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),2),c=u[0],l=u[1];return this._getUpdatedMapState({zoom:s,longitude:c,latitude:l})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,i=t.zoom;t.zoom=ee(i,n,e);var r=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=ee(a,o,r),Object.assign(t,function(t){var e=t.width,n=t.height,i=t.longitude,r=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,c=void 0===u?0:u;(i<-180||i>180)&&(i=G(i+180,360)-180),(c<-180||c>180)&&(c=G(c+180,360)-180);var l=new Ct({width:e,height:n,longitude:i,latitude:r,zoom:o}),h=l.project([i,Tt])[1],p=l.project([i,Rt])[1],d=0;return p-h<n&&(o+=Math.log2(n/(p-h)),h=(l=new Ct({width:e,height:n,longitude:i,latitude:r,zoom:o})).project([i,Tt])[1],p=l.project([i,Rt])[1]),h>0?d=h:p<n&&(d=p-n),d&&(r=l.unproject([e/2,n/2+d])[1]),{width:e,height:n,longitude:i,latitude:r,zoom:o,pitch:s,bearing:c}}(t)),t}},{key:"_unproject",value:function(t){var e=new Ct(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new Ct(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,i=this._viewportProps,r=i.maxZoom,o=i.minZoom;return ee(n+Math.log2(e),o,r)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,i=t.startBearing,r=t.startPitch;n=ee(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=r;return n>0?u=r+n*(s-r):n<0&&(u=r-n*(a-r)),{pitch:u,bearing:i+180*e}}}]),t}();function Oe(t){return t[0].toLowerCase()+t.slice(1)}var Ce=(0,i.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}var je="A valid API access token is required to use Mapbox data";var Ie={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},ze=Object.assign({},Jt.propTypes,{width:T().oneOfType([T().number,T().string]),height:T().oneOfType([T().number,T().string]),onResize:T().func,preventStyleDiffing:T().bool,disableTokenWarning:T().bool,visible:T().bool,className:T().string,style:T().object,visibilityConstraints:T().object}),qe=Object.assign({},Jt.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:Ee}),Ae=function(t){k(n,t);var e=Le(n);function n(){var t;b(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(_(t=e.call.apply(e,[this].concat(o))),"state",{accessTokenInvalid:!1}),O(_(t),"_mapbox",null),O(_(t),"_map",null),O(_(t),"_mapboxMapRef",(0,i.createRef)()),O(_(t),"_mapContainerRef",(0,i.createRef)()),O(_(t),"_queryParams",{}),O(_(t),"_width",0),O(_(t),"_height",0),O(_(t),"getMap",(function(){return t._map})),O(_(t),"queryRenderedFeatures",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t._map.queryRenderedFeatures(e,n)})),O(_(t),"_mapboxMapError",(function(e){401!==(e.error&&e.error.status||e.status)||t.state.accessTokenInvalid||(console.error(je),t.setState({accessTokenInvalid:!0})),t.props.onError(e)})),t}return x(n,[{key:"componentDidMount",value:function(){if(n.supported()){var t=this.props.mapStyle;this._mapbox=new Jt(Object.assign({},this.props,{mapboxgl:Qt(),width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:q(t)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(t){this._mapbox&&(this._updateMapStyle(t,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(t,e){this._width===t&&this._height===e||(this._width=t,this._height=e,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle;n!==t.mapStyle&&n&&this._map.setStyle(q(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(t){this._mapbox&&this._mapbox.setProps(Object.assign({},t,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return i.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},i.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),i.createElement("div",{key:"text"},"For information on setting up your basemap, read"),i.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(t){var e=this,n=t.width,r=t.height;return this._updateMapSize(n,r),i.createElement(Ce.Consumer,null,(function(t){var o=Re(Re({},t),{},{viewport:new Ct(Re(Re(Re({},e.props),e.props.viewState),{},{width:n,height:r})),map:e._map,mapContainer:t.mapContainer||e._mapContainerRef.current});return i.createElement(Ce.Provider,{value:o},i.createElement("div",{key:"map-overlays",className:"overlays",style:Ie},e.props.children))}))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,o=t.style,a=t.visibilityConstraints,s=Object.assign({position:"relative"},o,{width:n,height:r}),u=this.props.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;for(var n in e){var i=n.slice(0,3),r=Oe(n.slice(3));if("min"===i&&t[r]<e[n])return!1;if("max"===i&&t[r]>e[n])return!1}return!0}(this.props.viewState||this.props,a),c=Object.assign({},Ie,{visibility:u?"inherit":"hidden"});return i.createElement("div",{key:"map-container",style:s,ref:this._mapContainerRef},i.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:c,className:e}),i.createElement(Ut,{key:"autosizer",onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return Qt()&&Qt().supported()}}]),n}(i.PureComponent);O(Ae,"propTypes",ze),O(Ae,"defaultProps",qe);var De=function(){};var Ze=1,Ne=2,Fe=3,Be=4,Ve={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new xe,transitionInterruption:Ze,onTransitionStart:De,onTransitionInterrupt:De,onTransitionEnd:De,onViewportChange:De,onStateChange:De},Ue=function(){function t(e,n){var i=this;b(this,t),O(this,"props",void 0),O(this,"state",void 0),O(this,"time",void 0),O(this,"_animationFrame",null),O(this,"_onTransitionFrame",(function(){i._animationFrame=requestAnimationFrame(i._onTransitionFrame),i._updateViewport()})),e&&(this.props=e),this.time=n||Date.now}return x(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),i=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===Ne?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===Be)){var r=this.time(),o=(r-this.state.startTime)/this.state.duration;i.transitionDuration=this.state.duration-(r-this.state.startTime),i.transitionEasing=function(t,e){var n=t(e);return function(i){return 1/(1-n)*(t(i*(1-e)+e)-n)}}(this.state.easing,o),i.transitionInterpolator=n.transitionInterpolator}return i.onTransitionStart(),this._triggerTransition(n,i),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===Fe||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){ie(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,i=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==i){var r=e.transitionInterpolator.initializeProps(t,e),o={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:i,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:r.start,endProps:r.end,animation:null,propsInTransition:{},interactionState:o},this._onTransitionFrame(),this.props.onStateChange(o)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,i=e.duration,r=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,u=!1,c=(t-n)/i;c>=1&&(c=1,u=!0),c=r(c);var l=o.interpolateProps(a,s,c),h=new Pe(Object.assign({},this.props,l));this.state.propsInTransition=h.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();O(Ue,"defaultProps",Ve);var We,He,Ge=n(5087),Ye=n.n(Ge),Xe={mousedown:1,mousemove:2,mouseup:4};We=Ye().PointerEventInput,He=We.prototype.handler,We.prototype.handler=function(t){var e=this.store;t.button>0&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),He.call(this,t)},Ye().MouseInput.prototype.handler=function(t){var e=Xe[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var Je=Ye().Manager,Ke=Ye(),Qe=Ke?[[Ke.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Ke.Rotate,{enable:!1}],[Ke.Pinch,{enable:!1}],[Ke.Swipe,{enable:!1}],[Ke.Pan,{threshold:0,enable:!1}],[Ke.Press,{enable:!1}],[Ke.Tap,{event:"doubletap",taps:2,enable:!1}],[Ke.Tap,{event:"anytap",enable:!1}],[Ke.Tap,{enable:!1}]]:null,$e={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},tn={doubletap:["tap"]},en={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},nn=["keydown","keyup"],rn=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],on=["wheel","mousewheel","DOMMouseScroll"],an={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},sn={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},un="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",cn="undefined"!=typeof window?window:n.g,ln=(void 0!==n.g?n.g:window,"undefined"!=typeof document&&document,!1);try{var hn={get passive(){return ln=!0,!0}};cn.addEventListener("test",hn,hn),cn.removeEventListener("test",hn,hn)}catch(ha){}var pn=-1!==un.indexOf("firefox"),dn=on,fn="wheel",mn=4.000244140625,vn=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.events=dn.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,i.handleEvent,!!ln&&{passive:!1})}))}return x(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===fn&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;cn.WheelEvent&&(pn&&t.deltaMode===cn.WheelEvent.DOM_DELTA_PIXEL&&(e/=cn.devicePixelRatio),t.deltaMode===cn.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%mn==0&&(e=Math.floor(e/mn)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:fn,center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),gn=rn,yn="pointermove",bn="pointerover",_n="pointerout",wn="pointerleave",xn=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},r),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=gn.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,i.handleEvent)}))}return x(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===yn&&(this.enableMoveEvent=e),t===bn&&(this.enableOverEvent=e),t===_n&&(this.enableOutEvent=e),t===wn&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:bn,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:_n,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:wn,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:yn,srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),En=nn,kn="keydown",Mn="keyup",Sn=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=En.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=r.tabIndex||0,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,i.handleEvent)}))}return x(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===kn&&(this.enableDownEvent=e),t===Mn&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:kn,srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:Mn,srcEvent:t,key:t.key,target:t.target}))}}]),t}(),Pn="contextmenu",On=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},i),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return x(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){t===Pn&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:Pn,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}();function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Tn={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Rn={srcElement:"root",priority:0},Ln=function(){function t(e){b(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return x(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.handlers,a=this.handlersByElement;n&&("object"!==Cn(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},Rn,n):Rn;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var u={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};i&&(u.once=!0),r&&(u.passive=!0),o.push(u),this._active=this._active||!u.passive;for(var c=s.length-1;c>=0&&!(s[c].priority>=u.priority);)c--;s.splice(c+1,0,u)}},{key:"remove",value:function(t,e){for(var n=this.handlers,i=this.handlersByElement,r=n.length-1;r>=0;r--){var o=n[r];if(o.type===t&&o.handler===e){n.splice(r,1);var a=i.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&i.delete(o.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var i=!1,r=function(){t.handled=!0},o=function(){t.handled=!0,i=!0},a=[],s=0;s<n.length;s++){var u=n[s],c=u.type,l=u.handler,h=u.once;if(l(Object.assign({},t,{type:c,stopPropagation:r,stopImmediatePropagation:o})),h&&a.push(n[s]),i)break}for(var p=0;p<a.length;p++){var d=a[p],f=d.type,m=d.handler;this.remove(f,m)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=Tn[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,i=n.buttons,r=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===e||2===e&&!Number.isFinite(i)?(a=1===o,s=2===o,u=3===o):2===e?(a=Boolean(1&i),s=Boolean(4&i),u=Boolean(2&i)):1===e&&(a=0===r,s=1===r,u=2===r),{leftButton:a,middleButton:s,rightButton:u}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var i=t.center||{x:n.clientX,y:n.clientY},r=e.getBoundingClientRect(),o=r.width/e.offsetWidth,a=r.height/e.offsetHeight;return{center:i,offsetCenter:{x:(i.x-r.left-e.clientLeft)/o,y:(i.y-r.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}();function jn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return In(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return In(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var zn={events:null,recognizers:null,recognizerOptions:{},Manager:Je,touchAction:"none",tabIndex:0},qn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(this,t),this.options=Object.assign({},zn,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var i=n.events;i&&this.on(i)}return x(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,i=n.Manager;for(var r in this.manager=new i(t,{touchAction:n.touchAction,recognizers:n.recognizers||Qe}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys($e).forEach((function(t){var n=e.manager.get(t);n&&$e[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var o=this.manager.get(r);if(o){var a=n.recognizerOptions[r];delete a.enable,o.set(a)}}this.wheelInput=new vn(t,this._onOtherEvent,{enable:!1}),this.moveInput=new xn(t,this._onOtherEvent,{enable:!1}),this.keyInput=new Sn(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new On(t,this._onOtherEvent,{enable:!1});var s,u=jn(this.events);try{for(u.s();!(s=u.n()).done;){var c=Z(s.value,2),l=c[0],h=c[1];h.isEmpty()||(this._toggleRecognizer(h.recognizerName,!0),this.manager.on(l,h.handleEvent))}}catch(ha){u.e(ha)}finally{u.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var i=n.get(t);if(i&&i.options.enable!==e){i.set({enable:e});var r=tn[t];r&&!this.options.recognizers&&r.forEach((function(r){var o=n.get(r);e?(o.requireFailure(t),i.dropRequireFailure(r)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,i,r){if("string"==typeof t){var o=this.manager,a=this.events,s=sn[t]||t,u=a.get(s);u||(u=new Ln(this),a.set(s,u),u.recognizerName=an[s]||s,o&&o.on(s,u.handleEvent)),u.add(t,e,n,i,r),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var c in n=e,t)this._addEventHandler(c,t[c],n,i,r)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,i=sn[t]||t,r=n.get(i);if(r&&(r.remove(t,e),r.isEmpty())){var o,a=r.recognizerName,s=!1,u=jn(n.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.recognizerName===a&&!c.isEmpty()){s=!0;break}}}catch(ha){u.e(ha)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var l in t)this._removeEventHandler(l,t[l])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=en[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();var An={transitionDuration:0},Dn={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new xe,transitionInterruption:Ze},Zn=["wheel"],Nn=["panstart","panmove","panend"],Fn=["pinchstart","pinchmove","pinchend","pinchcancel"],Bn=["doubletap"],Vn=["keydown"],Un=function(){function t(){var e=this;b(this,t),O(this,"events",[]),O(this,"mapState",void 0),O(this,"onViewportChange",void 0),O(this,"onStateChange",void 0),O(this,"mapStateProps",void 0),O(this,"eventManager",void 0),O(this,"scrollZoom",!0),O(this,"dragPan",!0),O(this,"dragRotate",!0),O(this,"doubleClickZoom",!0),O(this,"touchZoom",!0),O(this,"touchRotate",!1),O(this,"keyboard",!0),O(this,"_state",{isDragging:!1}),O(this,"_events",{}),O(this,"_transitionManager",new Ue),O(this,"setState",(function(t){Object.assign(e._state,t),e.onStateChange&&e.onStateChange(e._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(t,e){var n,i,r,o=function(){return r=null,t.apply(n,i)};return function(){n=this,i=arguments,r&&clearTimeout(r),r=setTimeout(o,e)}}(this._onWheelEnd,100)}return x(t,[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchcancel":case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"updateViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.mapState?this.mapState.getViewportProps():{},r=Object.assign({},t.getViewportProps(),e),o=Object.keys(r).some((function(t){return i[t]!==r[t]}));o&&this.onViewportChange(r,n,i),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new Pe(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,i=t.eventManager,r=void 0===i?this.eventManager:i,o=t.isInteractive,a=void 0===o||o,s=t.scrollZoom,u=void 0===s?this.scrollZoom:s,c=t.dragPan,l=void 0===c?this.dragPan:c,h=t.dragRotate,p=void 0===h?this.dragRotate:h,d=t.doubleClickZoom,f=void 0===d?this.doubleClickZoom:d,m=t.touchZoom,v=void 0===m?this.touchZoom:m,g=t.touchRotate,y=void 0===g?this.touchRotate:g,b=t.keyboard,_=void 0===b?this.keyboard:b;this.onViewportChange=e,this.onStateChange=n;var w=!this.mapStateProps||this.mapStateProps.height!==t.height;this.mapStateProps=t,w&&this.updateViewport(new Pe(t)),this._transitionManager.processViewportChange(Object.assign({},t,{onStateChange:this.setState})),this.eventManager!==r&&(this.eventManager=r,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Zn,a&&u),this.toggleEvents(Nn,a&&(l||p)),this.toggleEvents(Fn,a&&(v||y)),this.toggleEvents(Bn,a&&f),this.toggleEvents(Vn,a&&_),this.scrollZoom=u,this.dragPan=l,this.dragRotate=p,this.doubleClickZoom=f,this.touchZoom=v,this.touchRotate=y,this.keyboard=_}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,An,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,An,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,i=Z(this.getCenter(t),2)[1],r=i-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,u=e/a,c=0;n>0?Math.abs(s-r)>5&&(c=n/(r-s)*1.2):n<0&&r>5&&(c=1-i/r),c=Math.min(1,Math.max(-1,c));var l=this.mapState.rotate({deltaScaleX:u,deltaScaleY:c});return this.updateViewport(l,An,{isRotating:!0}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;t.preventDefault();var e=this.getCenter(t),n=t.delta,i=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==i&&(i=1/i);var r=this.mapState.zoom({pos:e,scale:i});return this.updateViewport(r,An,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,An,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,i=this.getCenter(t);e=e.zoom({pos:i,scale:n})}if(this.touchRotate){var r=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(r-o)/180})}return this.updateViewport(e,An,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),i=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(i,Object.assign({},Dn,{transitionInterpolator:new xe({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),i=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:i.zoom-2}):this.getMapState({zoom:i.zoom-1});break;case 187:e=n?this.getMapState({zoom:i.zoom+2}):this.getMapState({zoom:i.zoom+1});break;case 37:e=n?this.getMapState({bearing:i.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:i.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:i.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:i.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,Dn)}}]),t}(),Wn=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function Hn(t){return"react-map-gl: `".concat(t,"` is removed.")}function Gn(t){return"Use `".concat(t,"` instead.")}function Yn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Wn.forEach((function(e){if(t.hasOwnProperty(e.old)){var n=Hn(e.old);e.new&&(n="".concat(n," ").concat(Gn(e.new))),console.warn(n)}}))}function Xn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}var Jn=Object.assign({},Ae.propTypes,{maxZoom:T().number,minZoom:T().number,maxPitch:T().number,minPitch:T().number,onViewStateChange:T().func,onViewportChange:T().func,onInteractionStateChange:T().func,transitionDuration:T().oneOfType([T().number,T().string]),transitionInterpolator:T().object,transitionInterruption:T().number,transitionEasing:T().func,onTransitionStart:T().func,onTransitionInterrupt:T().func,onTransitionEnd:T().func,scrollZoom:T().bool,dragPan:T().bool,dragRotate:T().bool,doubleClickZoom:T().bool,touchZoom:T().bool,touchRotate:T().bool,keyboard:T().bool,onHover:T().func,onClick:T().func,onDblClick:T().func,onContextMenu:T().func,onMouseDown:T().func,onMouseMove:T().func,onMouseUp:T().func,onTouchStart:T().func,onTouchMove:T().func,onTouchEnd:T().func,onMouseEnter:T().func,onMouseLeave:T().func,onMouseOut:T().func,onWheel:T().func,touchAction:T().string,clickRadius:T().number,interactiveLayerIds:T().array,getCursor:T().func,controller:T().instanceOf(Un)}),Kn=Object.assign({},Ae.defaultProps,Ee,Ue.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}}),Qn=function(t){k(n,t);var e=Xn(n);function n(t){var r;return b(this,n),O(_(r=e.call(this,t)),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),O(_(r),"_controller",void 0),O(_(r),"_eventManager",void 0),O(_(r),"_interactiveContext",void 0),O(_(r),"_width",0),O(_(r),"_height",0),O(_(r),"_eventCanvasRef",(0,i.createRef)()),O(_(r),"_staticMapRef",(0,i.createRef)()),O(_(r),"getMap",(function(){return r._staticMapRef.current?r._staticMapRef.current.getMap():null})),O(_(r),"queryRenderedFeatures",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.getMap();return n&&n.queryRenderedFeatures(t,e)})),O(_(r),"_onInteractionStateChange",(function(t){var e=t.isDragging,n=void 0!==e&&e;n!==r.state.isDragging&&(r._updateInteractiveContext({isDragging:n}),r.setState({isDragging:n}));var i=r.props.onInteractionStateChange;i&&i(t)})),O(_(r),"_onResize",(function(t){var e=t.width,n=t.height;r._width=e,r._height=n,r._setControllerProps(r.props),r.props.onResize({width:e,height:n})})),O(_(r),"_onViewportChange",(function(t,e,n){var i=r.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:t,interactionState:e,oldViewState:n}),a&&a(t,e,n)})),O(_(r),"_onLoad",(function(t){r.setState({isLoaded:!0}),r.props.onLoad(t)})),O(_(r),"_onEvent",(function(t,e){var n=r.props[t];n&&n(r._normalizeEvent(e))})),O(_(r),"_onPointerDown",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchStart",t);break;default:r._onEvent("onMouseDown",t)}})),O(_(r),"_onPointerUp",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchEnd",t);break;default:r._onEvent("onMouseUp",t)}})),O(_(r),"_onPointerMove",(function(t){switch(t.pointerType){case"touch":r._onEvent("onTouchMove",t);break;default:r._onEvent("onMouseMove",t)}if(!r.state.isDragging){var e,n=r.props,i=n.onHover,o=n.interactiveLayerIds;t=r._normalizeEvent(t),r.state.isLoaded&&(o||i)&&(e=r._getFeatures({pos:t.point,radius:r.props.clickRadius})),i&&(t.features=e,i(t));var a=Boolean(o&&e&&e.length>0),s=a&&!r.state.isHovering,u=!a&&r.state.isHovering;s&&r._onEvent("onMouseEnter",t),u&&r._onEvent("onMouseLeave",t),(s||u)&&r.setState({isHovering:a})}})),O(_(r),"_onClick",(function(t){var e=r.props,n=e.onClick,i=e.onNativeClick,o=e.onDblClick,a=e.doubleClickZoom,s=[],u=o||a;switch(t.type){case"anyclick":s.push(i),u||s.push(n);break;case"click":u&&s.push(n)}(s=s.filter(Boolean)).length&&((t=r._normalizeEvent(t)).features=r._getFeatures({pos:t.point,radius:r.props.clickRadius}),s.forEach((function(e){return e(t)})))})),Yn(t),r._controller=t.controller||new Un,r._eventManager=new qn(null,{touchAction:t.touchAction}),r._updateInteractiveContext({isDragging:!1,eventManager:r._eventManager}),r}return x(n,null,[{key:"supported",value:function(){return Ae.supported()}}]),x(n,[{key:"componentDidMount",value:function(){var t=this._eventManager,e=this._eventCanvasRef.current;t.setElement(e),t.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:e})}},{key:"componentDidUpdate",value:function(){this._setControllerProps(this.props)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(t){t=Object.assign({},t,t.viewState,{isInteractive:Boolean(t.onViewStateChange||t.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(t);var e=this._interactiveContext;e.onViewportChange=t.onViewportChange,e.onViewStateChange=t.onViewStateChange}},{key:"_getFeatures",value:function(t){var e,n=t.pos,i=t.radius,r={},o=this.getMap();if(this.props.interactiveLayerIds&&(r.layers=this.props.interactiveLayerIds),i){var a=i,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];e=o&&o.queryRenderedFeatures(s,r)}else e=o&&o.queryRenderedFeatures(n,r);return e}},{key:"_updateInteractiveContext",value:function(t){this._interactiveContext=Object.assign({},this._interactiveContext,t)}},{key:"_normalizeEvent",value:function(t){if(t.lngLat)return t;var e=t.offsetCenter,n=[e.x,e.y],i=new Ct(Object.assign({},this.props,{width:this._width,height:this._height}));return t.point=n,t.lngLat=i.unproject(n),t}},{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.style,o=t.getCursor,a=Object.assign({position:"relative"},r,{width:e,height:n,cursor:o(this.state)});return i.createElement(Ce.Provider,{value:this._interactiveContext},i.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:a},i.createElement(Ae,(0,y.Z)({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(i.PureComponent);function $n(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===Cn(t)&&"object"===Cn(e)){var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var o=0,a=i;o<a.length;o++){var s=a[o];if(!e.hasOwnProperty(s))return!1;if(!$n(t[s],e[s]))return!1}return!0}return!1}function ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(Qn,"propTypes",Jn),O(Qn,"defaultProps",Kn);var ei={type:T().string.isRequired,id:T().string},ni=0,ii=function(t){k(n,t);var e=ti(n);function n(t){var i;return b(this,n),O(_(i=e.call(this,t)),"id",void 0),O(_(i),"type",void 0),O(_(i),"_map",null),O(_(i),"_sourceOptions",{}),O(_(i),"_updateSource",(function(){var t=_(i),e=t.type;if(t._map){var n=_(i),r=n._sourceOptions,o=n.props;ie(!o.id||o.id===i.id,"source id changed"),ie(o.type===e,"source type changed");var a="",s=0;for(var u in o)"children"===u||"id"===u||$n(r[u],o[u])||(r[u]=o[u],a=u,s++);var c=i.getSource();if(c){if(s)if("geojson"===e)c.setData(r.data);else if("image"===e)c.updateImage({url:r.url,coordinates:r.coordinates});else if("canvas"!==e&&"video"!==e||1!==s||"coordinates"!==a)if("vector"===e&&c.setUrl)switch(a){case"url":c.setUrl(r.url);break;case"tiles":c.setTiles(r.tiles)}else console.warn("Unable to update <Source> prop: ".concat(a));else c.setCoordinates(r.coordinates)}else i._createSource(r)}})),i.id=t.id||"jsx-source-".concat(ni++),i.type=t.type,i}return x(n,[{key:"componentWillUnmount",value:function(){var t=this,e=this._map;e&&(e.off("styledata",this._updateSource),requestAnimationFrame((function(){e.style&&e.style._loaded&&e.removeSource(t.id)})))}},{key:"getSource",value:function(){var t=this._map;return t&&t.style&&t.getSource(this.id)}},{key:"_createSource",value:function(t){var e=this._map;e.style&&e.style._loaded&&e.addSource(this.id,t)}},{key:"_render",value:function(t){var e=this;return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateSource)),this._updateSource(),i.Children.map(this.props.children,(function(t){return t&&(0,i.cloneElement)(t,{source:e.id})}))}},{key:"render",value:function(){return i.createElement(Ce.Consumer,null,this._render.bind(this))}}]),n}(i.PureComponent);O(ii,"propTypes",ei);var ri=n(9756);function oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}var ai={type:T().oneOf(Object.keys({fill:"fill",line:"line",symbol:"symbol",circle:"circle","fill-extrusion":"fill-extrusion",raster:"raster",background:"background",heatmap:"heatmap",hillshade:"hillshade"})).isRequired,id:T().string,source:T().string,beforeId:T().string};function si(t,e,n,i){var r=n.layout,o=void 0===r?{}:r,a=n.paint,s=void 0===a?{}:a,u=n.filter,c=n.minzoom,l=n.maxzoom,h=n.beforeId,p=function(t,e){if(null==t)return{};var n,i,r=(0,ri.Z)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(h!==i.beforeId&&t.moveLayer(e,h),o!==i.layout){var d=i.layout||{};for(var f in o)$n(o[f],d[f])||t.setLayoutProperty(e,f,o[f]);for(var m in d)o.hasOwnProperty(m)||t.setLayoutProperty(e,m,void 0)}if(s!==i.paint){var v=i.paint||{};for(var g in s)$n(s[g],v[g])||t.setPaintProperty(e,g,s[g]);for(var y in v)s.hasOwnProperty(y)||t.setPaintProperty(e,y,void 0)}for(var b in $n(u,i.filter)||t.setFilter(e,u),c===i.minzoom&&l===i.maxzoom||t.setLayerZoomRange(e,c,l),p)$n(p[b],i[b])||t.setLayerProperty(e,b,p[b])}var ui=0,ci=function(t){k(n,t);var e=oi(n);function n(t){var i;return b(this,n),O(_(i=e.call(this,t)),"id",void 0),O(_(i),"type",void 0),O(_(i),"_map",null),O(_(i),"_layerOptions",{}),O(_(i),"_updateLayer",(function(){var t=i._map;if(t){var e=_(i),n=e.props,r=e._layerOptions;if(ie(!n.id||n.id===i.id,"layer id changed"),ie(n.type===i.type,"layer type changed"),i.getLayer())try{si(t,i.id,n,r),Object.assign(r,n)}catch(o){console.warn(o)}else i._createLayer()}})),i.id=t.id||"jsx-layer-".concat(ui++),i.type=t.type,i}return x(n,[{key:"componentDidMount",value:function(){this._updateLayer()}},{key:"componentDidUpdate",value:function(){this._updateLayer()}},{key:"componentWillUnmount",value:function(){var t=this._map;t&&(t.off("styledata",this._updateLayer),t.style&&t.style._loaded&&t.removeLayer(this.id))}},{key:"getLayer",value:function(){var t=this._map;return t&&t.style&&t.getLayer(this.id)}},{key:"_createLayer",value:function(){var t=this._map;if(t.style&&t.style._loaded){var e=Object.assign({},this.props);e.id=this.id,delete e.beforeId,t.addLayer(e,this.props.beforeId),this._layerOptions=e}}},{key:"_render",value:function(t){return!this._map&&t.map&&(this._map=t.map,this._map.on("styledata",this._updateLayer)),null}},{key:"render",value:function(){return i.createElement(Ce.Consumer,null,this._render.bind(this))}}]),n}(i.PureComponent);function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(ci,"propTypes",ai);var hi={captureScroll:T().bool,captureDrag:T().bool,captureClick:T().bool,captureDoubleClick:T().bool,capturePointerMove:T().bool},pi=function(t){k(n,t);var e=li(n);function n(){var t;b(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(_(t=e.call.apply(e,[this].concat(o))),"_context",{}),O(_(t),"_events",null),O(_(t),"_containerRef",(0,i.createRef)()),O(_(t),"_onScroll",(function(e){t.props.captureScroll&&e.stopPropagation()})),O(_(t),"_onDragStart",(function(e){t.props.captureDrag&&e.stopPropagation()})),O(_(t),"_onDblClick",(function(e){t.props.captureDoubleClick&&e.stopPropagation()})),O(_(t),"_onClick",(function(e){t.props.captureClick&&e.stopPropagation()})),O(_(t),"_onPointerMove",(function(e){t.props.capturePointerMove&&e.stopPropagation()})),t}return x(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;if(t){var e=this._context.eventManager;e&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick,pointermove:this._onPointerMove},e.watch(this._events,t))}}},{key:"componentWillUnmount",value:function(){var t=this._context.eventManager;t&&this._events&&t.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var t=this;return i.createElement(Ce.Consumer,null,(function(e){return t._context=e,t._render()}))}}]),n}(i.PureComponent);function di(t,e,n){return(di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(pi,"propTypes",hi),O(pi,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1});var mi=Object.assign({},pi.propTypes,{draggable:T().bool,onDrag:T().func,onDragEnd:T().func,onDragStart:T().func,offsetLeft:T().number,offsetTop:T().number}),vi=Object.assign({},pi.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),gi=function(t){k(n,t);var e=fi(n);function n(){var t;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return O(_(t=e.call.apply(e,[this].concat(r))),"state",{dragPos:null,dragOffset:null}),O(_(t),"_dragEvents",null),O(_(t),"_onDragStart",(function(e){var n=t.props,i=n.draggable,r=n.captureDrag;if((i||r)&&e.stopPropagation(),i){var o=t._getDragEventPosition(e),a=t._getDragEventOffset(e);t.setState({dragPos:o,dragOffset:a}),t._setupDragEvents();var s=t.props.onDragStart;if(s&&a){var u=Object.assign({},e);u.lngLat=t._getDragLngLat(o,a),s(u)}}})),O(_(t),"_onDrag",(function(e){e.stopPropagation();var n=t._getDragEventPosition(e);t.setState({dragPos:n});var i=t.props.onDrag,r=t.state.dragOffset;if(i&&r){var o=Object.assign({},e);o.lngLat=t._getDragLngLat(n,r),i(o)}})),O(_(t),"_onDragEnd",(function(e){var n=t.state,i=n.dragPos,r=n.dragOffset;e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents();var o=t.props.onDragEnd;if(o&&i&&r){var a=Object.assign({},e);a.lngLat=t._getDragLngLat(i,r),o(a)}})),O(_(t),"_onDragCancel",(function(e){e.stopPropagation(),t.setState({dragPos:null,dragOffset:null}),t._removeDragEvents()})),t}return x(n,[{key:"componentWillUnmount",value:function(){di(P(n.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var t=this._context.eventManager;t&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},t.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var t=this._context.eventManager;t&&this._dragEvents&&(t.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_getDragEventOffset",value:function(t){var e=t.center,n=e.x,i=e.y,r=this._containerRef.current;if(r){var o=r.getBoundingClientRect();return[o.left-n,o.top-i]}return null}},{key:"_getDraggedPosition",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"_getDragLngLat",value:function(t,e){var n=this.props,i=n.offsetLeft,r=n.offsetTop,o=Z(this._getDraggedPosition(t,e),2),a=o[0],s=o[1];return this._context.viewport.unproject([a-i,s-r])}}]),n}(pi);O(gi,"propTypes",mi),O(gi,"defaultProps",vi);var yi="undefined"!=typeof window&&window.devicePixelRatio||1,bi=function(t){return Math.round(t*yi)/yi},_i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var i="x"===n?t.offsetWidth:t.offsetHeight;return bi(e/100*i)/i*100};function wi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}var xi=Object.assign({},gi.propTypes,{className:T().string,longitude:T().number.isRequired,latitude:T().number.isRequired}),Ei=Object.assign({},gi.defaultProps,{className:""}),ki=function(t){k(n,t);var e=wi(n);function n(){var t;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return O(_(t=e.call.apply(e,[this].concat(r))),"_control",null),t}return x(n,[{key:"_getPosition",value:function(){var t=this.props,e=t.longitude,n=t.latitude,i=t.offsetLeft,r=t.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var u=Z(this._context.viewport.project([e,n]),2),c=u[0],l=u[1];return[c+=i,l+=r]}},{key:"_render",value:function(){var t=Z(this._getPosition(),2),e=t[0],n=t[1],r="translate(".concat(bi(e),"px, ").concat(bi(n),"px)"),o=this._containerRef.current;if(this._control&&o)o.style.transform=r;else{var a=this.props,s=a.className,u=a.draggable,c=this.state.dragPos,l={position:"absolute",left:0,top:0,transform:r,cursor:u?c?"grabbing":"grab":"auto"};this._control=i.createElement("div",{className:"mapboxgl-marker ".concat(s),ref:this._containerRef,style:l},this.props.children)}return this._control}},{key:"render",value:function(){return this._control=null,di(P(n.prototype),"render",this).call(this)}}]),n}(gi);O(ki,"propTypes",xi),O(ki,"defaultProps",Ei);var Mi={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Si=Object.keys(Mi);function Pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}var Oi=Object.assign({},pi.propTypes,{className:T().string,longitude:T().number.isRequired,latitude:T().number.isRequired,altitude:T().number,offsetLeft:T().number,offsetTop:T().number,tipSize:T().number,closeButton:T().bool,closeOnClick:T().bool,anchor:T().oneOf(Object.keys(Mi)),dynamicPosition:T().bool,sortByDepth:T().bool,onClose:T().func}),Ci=Object.assign({},pi.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Ti=function(t){k(n,t);var e=Pi(n);function n(){var t;b(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(_(t=e.call.apply(e,[this].concat(o))),"_closeOnClick",!1),O(_(t),"_contentRef",(0,i.createRef)()),O(_(t),"_onClick",(function(e){if(t.props.captureClick&&e.stopPropagation(),t.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){t.props.onClose();var n=t._context.eventManager;n&&n.once("click",(function(t){return t.stopPropagation()}),e.target)}})),t}return x(n,[{key:"componentDidMount",value:function(){di(P(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this._context.viewport,i=this.props,r=i.anchor,o=i.dynamicPosition,a=i.tipSize,s=this._contentRef.current;return s&&o?function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,c=void 0===u?0:u,l=Mi[s],h=l.x,p=l.y,d=n-p*a,f=d+a,m=Math.max(0,c-d)+Math.max(0,f-r+c);if(m>0){var v=p,g=m;for(p=0;p<=1;p+=.5)f=(d=n-p*a)+a,(m=Math.max(0,c-d)+Math.max(0,f-r+c))<g&&(g=m,v=p);p=v}var y=.5;.5===p&&(h=Math.floor(h),y=1);var b=e-h*o,_=b+o,w=Math.max(0,c-b)+Math.max(0,_-i+c);if(w>0){var x=h,E=w;for(h=0;h<=1;h+=y)_=(b=e-h*o)+o,(w=Math.max(0,c-b)+Math.max(0,_-i+c))<E&&(E=w,x=h);h=x}return Si.find((function(t){var e=Mi[t];return e.x===h&&e.y===p}))||s}({x:t,y:e,anchor:r,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):r}},{key:"_getContainerStyle",value:function(t,e,n,i){var r=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,u=o.sortByDepth,c=Mi[i],l=t+a,h=e+s,p=this._containerRef.current,d=_i(p,100*-c.x),f=_i(p,100*-c.y,"y"),m={position:"absolute",transform:"\n        translate(".concat(d,"%, ").concat(f,"%)\n        translate(").concat(bi(l),"px, ").concat(bi(h),"px)\n      "),display:void 0,zIndex:void 0};return u?(n>1||n<-1||t<0||t>r.width||e<0||e>r.height?m.display="none":m.zIndex=Math.floor((1-n)/2*1e5),m):m}},{key:"_renderTip",value:function(t){var e=this.props.tipSize;return i.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:e}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children,r=this._context.eventManager?null:this._onClick;return i.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},e&&i.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),n)}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,o=t.altitude,a=Z(this._context.viewport.project([n,r,o]),3),s=a[0],u=a[1],c=a[2],l=this._getPosition(s,u),h=this._getContainerStyle(s,u,c,l);return i.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(l," ").concat(e),style:h,ref:this._containerRef},this._renderTip(l),this._renderContent())}}]),n}(pi);function Ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(Ti,"propTypes",Oi),O(Ti,"defaultProps",Ci);var Li,ji=Object.assign({},pi.propTypes,{className:T().string,container:T().object,label:T().string}),Ii=Object.assign({},pi.defaultProps,{className:"",container:null,label:"Toggle fullscreen"}),zi=function(t){k(n,t);var e=Ri(n);function n(){var t;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return O(_(t=e.call.apply(e,[this].concat(r))),"state",{isFullscreen:!1,showButton:!1}),O(_(t),"_mapboxFullscreenControl",null),O(_(t),"_onFullscreenChange",(function(){var e=!t._mapboxFullscreenControl._fullscreen;t._mapboxFullscreenControl._fullscreen=e,t.setState({isFullscreen:e})})),O(_(t),"_onClickFullscreen",(function(){t._mapboxFullscreenControl._onClickFullscreen()})),t}return x(n,[{key:"componentDidMount",value:function(){var t=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new(Qt().FullscreenControl)({container:t}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),Ht.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){Ht.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(t,e,n){return i.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){if(!this.state.showButton)return null;var t=this.props,e=t.className,n=t.label,r=this.state.isFullscreen?"shrink":"fullscreen";return i.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},this._renderButton(r,n,this._onClickFullscreen))}}]),n}(pi);function qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(zi,"propTypes",ji),O(zi,"defaultProps",Ii);var Ai=Object.assign({},Ue.defaultProps,{transitionDuration:500}),Di=function(){},Zi=Object.assign({},pi.propTypes,{className:T().string,style:T().object,label:T().string,auto:T().bool,positionOptions:T().object,fitBoundsOptions:T().object,trackUserLocation:T().bool,showUserLocation:T().bool,onViewStateChange:T().func,onViewportChange:T().func,onGeolocate:T().func}),Ni=Object.assign({},pi.defaultProps,{className:"",style:{},label:"Geolocate",auto:!1,positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0,onGeolocate:function(){}}),Fi=function(t){k(n,t);var e=qi(n);function n(){var t;b(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(_(t=e.call.apply(e,[this].concat(o))),"state",{supportsGeolocation:!1,markerPosition:null}),O(_(t),"_mapboxGeolocateControl",null),O(_(t),"_geolocateButtonRef",(0,i.createRef)()),O(_(t),"_setupMapboxGeolocateControl",(function(e){if(e){var n={showUserLocation:!1};["positionOptions","fitBoundsOptions","trackUserLocation"].forEach((function(e){e in t.props&&null!==t.props[e]&&(n[e]=t.props[e])}));var i=new(Qt().GeolocateControl)(n);t._mapboxGeolocateControl=i,i._watchState="OFF",i._geolocateButton=t._geolocateButtonRef.current,i.options.trackUserLocation&&i._geolocateButton&&i._geolocateButton.setAttribute("aria-pressed","false"),i._updateMarker=t._updateMarker,i._updateCamera=t._updateCamera,i._setup=!0;var r=t._context.eventManager;i.options.trackUserLocation&&r&&r.on("panstart",(function(){"ACTIVE_LOCK"===i._watchState&&(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"))})),i.on("geolocate",t.props.onGeolocate)}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),O(_(t),"_triggerGeolocate",(function(){var e=t._mapboxGeolocateControl;return e._map=t._context.map,t.props.showUserLocation&&(e.on("geolocate",t._updateMarker),e.on("trackuserlocationend",t._updateMarker)),t._mapboxGeolocateControl.trigger()})),O(_(t),"_updateMarker",(function(e){e&&t.setState({markerPosition:e.coords})})),O(_(t),"_getBounds",(function(t){var e=new(Qt().LngLat)(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=e.toBounds(n);return[[i._ne.lng,i._ne.lat],[i._sw.lng,i._sw.lat]]})),O(_(t),"_updateCamera",(function(e){var n=t._context.viewport,i=t._getBounds(e),r=new Ct(n).fitBounds(i),o=r.longitude,a=r.latitude,s=r.zoom,u=Object.assign({},n,{longitude:o,latitude:a,zoom:s}),c=new Pe(u),l=Object.assign({},c.getViewportProps(),Ai),h=t.props.onViewportChange||t._context.onViewportChange||Di;(t.props.onViewStateChange||t._context.onViewStateChange||Di)({viewState:l}),h(l)})),O(_(t),"_renderButton",(function(e,n,r){return i.createElement("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(e),ref:t._geolocateButtonRef,type:"button",title:n,onClick:r},i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))})),O(_(t),"_renderMarker",(function(){var e=t.state.markerPosition,n=t.props.showUserLocation;return e&&n?i.createElement(ki,{key:"location-maker",longitude:e.longitude,latitude:e.latitude,captureDrag:!1,captureDoubleClick:!1},i.createElement("div",{className:"mapboxgl-user-location-dot",style:{transform:"translate(-50%, -50%)"}})):null})),t}return x(n,[{key:"componentDidMount",value:function(){var t=this;(void 0!==Li?Promise.resolve(Li):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return Li="denied"!==t.state})):(Li=Boolean(window.navigator.geolocation),Promise.resolve(Li))).then((function(e){t.setState({supportsGeolocation:e}),t._setupMapboxGeolocateControl(e),e&&t.props.auto&&t._triggerGeolocate()}))}},{key:"componentDidUpdate",value:function(t){this.state.supportsGeolocation&&!t.auto&&this.props.auto&&this._triggerGeolocate()}},{key:"componentWillUnmount",value:function(){if(this._mapboxGeolocateControl){var t=this._mapboxGeolocateControl._geolocationWatchID;void 0!==t&&(window.navigator.geolocation.clearWatch(t),this._mapboxGeolocateControl._geolocationWatchID=void 0)}}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var t=this.props,e=t.className,n=t.style,r=t.label;return i.createElement("div",null,this._renderMarker(),i.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef,style:n},this._renderButton("geolocate",r,this._triggerGeolocate)))}}]),n}(pi);function Bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(Fi,"propTypes",Zi),O(Fi,"defaultProps",Ni);var Vi=function(){},Ui=Object.assign({},pi.propTypes,{className:T().string,onViewStateChange:T().func,onViewportChange:T().func,showCompass:T().bool,showZoom:T().bool,zoomInLabel:T().string,zoomOutLabel:T().string,compassLabel:T().string}),Wi=Object.assign({},pi.defaultProps,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function Hi(t){return function(t,e){for(var n=(t||"").split(".").map(Number),i=(e||"").split(".").map(Number),r=0;r<3;r++){var o=n[r]||0,a=i[r]||0;if(o<a)return-1;if(o>a)return 1}return 0}(t,"1.6.0")>=0?2:1}var Gi=function(t){k(n,t);var e=Bi(n);function n(t){var i;return b(this,n),O(_(i=e.call(this,t)),"_uiVersion",void 0),O(_(i),"_onZoomIn",(function(){i._updateViewport({zoom:i._context.viewport.zoom+1})})),O(_(i),"_onZoomOut",(function(){i._updateViewport({zoom:i._context.viewport.zoom-1})})),O(_(i),"_onResetNorth",(function(){i._updateViewport({bearing:0,pitch:0})})),Yn(t),i}return x(n,[{key:"_updateViewport",value:function(t){var e=this._context.viewport,n=new Pe(Object.assign({},e,t)),i=Object.assign({},n.getViewportProps(),Dn),r=this.props.onViewportChange||this._context.onViewportChange||Vi;(this.props.onViewStateChange||this._context.onViewStateChange||Vi)({viewState:i}),r(i)}},{key:"_renderCompass",value:function(){var t=this._context.viewport.bearing,e={transform:"rotate(".concat(-t,"deg)")};return 2===this._uiVersion?i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:e}):i.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:e})}},{key:"_renderButton",value:function(t,e,n,r){return i.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||i.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom,o=t.zoomInLabel,a=t.zoomOutLabel,s=t.compassLabel;if(!this._uiVersion){var u=this._context.map;this._uiVersion=u?Hi(u.version):2}return i.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},r&&this._renderButton("zoom-in",o,this._onZoomIn),r&&this._renderButton("zoom-out",a,this._onZoomOut),n&&this._renderButton("compass",s,this._onResetNorth,this._renderCompass()))}}]),n}(pi);function Yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(Gi,"propTypes",Ui),O(Gi,"defaultProps",Wi);var Xi=Object.assign({},pi.propTypes,{maxWidth:T().number,unit:T().oneOf(["imperial","metric","nautical"])}),Ji=Object.assign({},pi.defaultProps,{maxWidth:100,unit:"metric"}),Ki=function(t){k(n,t);var e=Yi(n);function n(){var t;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return O(_(t=e.call.apply(e,[this].concat(r))),"_control",null),O(_(t),"_mapboxScaleControl",null),t}return x(n,[{key:"componentDidMount",value:function(){var t=new(Qt().ScaleControl);t._map=this._context.map,t._container=this._containerRef.current,this._mapboxScaleControl=t,this._update()}},{key:"_update",value:function(){var t=this._mapboxScaleControl;t&&(t.options=this.props,t._onMove())}},{key:"_render",value:function(){return this._control=this._control||i.createElement("div",{ref:this._containerRef,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}),this._update(),this._control}}]),n}(pi);function Qi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(Ki,"propTypes",Xi),O(Ki,"defaultProps",Ji);var $i=Object.assign({},pi.propTypes,{redraw:T().func.isRequired}),tr=function(t){k(n,t);var e=Qi(n);function n(){var t;b(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return O(_(t=e.call.apply(e,[this].concat(r))),"_canvas",void 0),O(_(t),"_ctx",void 0),O(_(t),"_redraw",(function(){var e=t._ctx;if(e){var n=Wt.devicePixelRatio||1;e.save(),e.scale(n,n);var i=t._context,r=i.viewport,o=i.isDragging;t.props.redraw({width:r.width,height:r.height,ctx:e,isDragging:o,project:r.project.bind(r),unproject:r.unproject.bind(r)}),e.restore()}})),t}return x(n,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;t&&(this._canvas=t,this._ctx=t.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var t=Wt.devicePixelRatio||1,e=this._context.viewport,n=e.width,r=e.height;return this._redraw(),i.createElement("canvas",{ref:this._containerRef,width:n*t,height:r*t,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),n}(pi);function er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(tr,"propTypes",$i),O(tr,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var nr=Object.assign({},pi.propTypes,{redraw:T().func.isRequired,style:T().object}),ir=function(t){k(n,t);var e=er(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:e.width,height:e.height},this.props.style);return i.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(pi);function rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=P(t);if(e){var r=P(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}O(ir,"propTypes",nr),O(ir,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});var or=Object.assign({},pi.propTypes,{redraw:T().func.isRequired,style:T().object}),ar=function(t){k(n,t);var e=rr(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return i.createElement("svg",{width:e.width,height:e.height,ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),n}(pi);O(ar,"propTypes",or),O(ar,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1});Qt()&&Qt().setRTLTextPlugin;var sr={name:"11rujvs",styles:"max-height:100vh;position:sticky;right:0;top:0"},ur=function(t){var e=t.currentPanel,n=t.viewport,o=t.setViewport,a=(0,i.useRef)(null);(0,i.useEffect)((function(){var t=a.current;null==t||t.on("load",(function(){null==t||t.moveLayer("state-label"),null==t||t.moveLayer("settlement-minor-label"),null==t||t.moveLayer("settlement-major-label")}))}),[]);return(0,r.tZ)("div",{css:sr},(0,r.tZ)(Qn,(0,y.Z)({},n,{ref:function(t){return function(t){a.current=t&&t.getMap()}(t)},transitionDuration:1e3,transitionInterpolator:new ge,width:"755px",height:"100%",onViewportChange:function(t){return o(t)},mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",mapStyle:"mapbox://styles/ihill/ckmxwp00t19at18mrkhfgj255",scrollZoom:!1,dragPan:!1,dragRotate:!1,doubleClickZoom:!1,touchZoom:!1,touchRotate:!1,keyboard:!1}),(0,r.tZ)(ii,{id:"Sites",type:"vector",url:"mapbox://ihill.0a4w5d52"},(0,r.tZ)(ci,{type:"circle",id:"Sites (circles)",source:"Sites","source-layer":"retrofit_site_pts-3ot9ol",paint:{"circle-color":["step",["get","Overall_Sc"],"#FFFDA7",2,"#99f26d",2.5,"#78cd98",3,"#649abd",3.5,"#5456a0"],"circle-radius":["interpolate",["linear"],["zoom"],8,2.5,12,7]},layout:{visibility:1===e?"visible":"none"}})),(0,r.tZ)(ii,{id:"Parcels",type:"vector",url:"mapbox://ihill.2yxozn9p"},(0,r.tZ)(ci,{type:"fill",id:"Sites (parcels)",source:"Parcels","source-layer":"retrofit_site_geo-cvc0x0",paint:{"fill-color":"#b3b3b3"},layout:{visibility:0===e?"visible":"none"}}))))};var cr={name:"1ikcjft",styles:"margin:0 4.5rem 0 0;min-height:100vh;p:first-of-type{margin-top:0;}"},lr=function(){return(0,r.tZ)("div",null,(0,r.tZ)("div",{className:"step","data-step":"a",css:cr},(0,r.tZ)("p",null,"While stories like this are still uncommon across the region, the opportunities for them are widespread. Across Metro Boston, there are thousands of acres of obsolete, outdated, and unattractive commercial properties built up in the latter part of the 20th Century, during a period when land use controls turned away from the historical New England development patterns to auto-oriented sprawl like that seen across the rest of America. Many of these old commercial plazas are now struggling due to competition from more recent shopping centers and online shopping. Communities across the region are facing the question of what’s next for these properties?  Landborough’s experience at 123 Main Street suggests that re-envisioning these old commercial sites for the next century can benefit communities. Eyesores can be turned into assets. If even a fraction of the obsolete commercial sites were redeveloped for housing, it could help to meet the region’s housing needs, bolster municipal tax revenues, improve community character, and enhance sustainability, all without the environmental destruction and expense that goes along with development of natural areas.")),(0,r.tZ)("div",{className:"step","data-step":"b",css:cr},(0,r.tZ)("p",null,"Scroll and notice the change in map view; we zoomed in are focused on Natick. We also changed basemaps to show some additional context. Scroll up just a little bit and the circles come back/we zoom out. This is both a joy and peril of scrollytelling: you can go forward or backward, and you need to make sure it's a digestable experience either way."),(0,r.tZ)("p",null,"Again, most controls are still gone. Depending on the narrative, we might want to allow users to click and pan around, or jump to various places on the map."),(0,r.tZ)("p",null,"This map below provides an example of the analysis at the municipal level (Town of Natick). As expected, there are numerous suitable sites around the commuter rail stations. Less intuitive, however, is the analysis suggests some of the most suitable sites are located along Rt 9. This is likely due to larger parcels (increasing capacity potential) and the number of jobs located nearby. The maps providing a geographic and visual depiction of the suitability analysis. The analysis can also summarize for each individual parcel the various rankings and relative scores for the various criteria.")))},hr={0:{viewport:{latitude:42.24477934567755,longitude:-71.17334359526778,zoom:13.5}},1:{viewport:{latitude:42.329755482312734,longitude:-71.09049350120513,zoom:8}}},pr=function(){var t=g()(),e=(0,i.useState)(0),n=e[0],o=e[1],a=(0,i.useState)({latitude:42.329755482312734,longitude:-71.09049350120513,zoom:8.4}),s=a[0],c=a[1];return(0,i.useEffect)((function(){t.setup({step:".step"}).onStepEnter((function(t){o(t.index),s!==hr[t.index].viewport&&c(hr[t.index].viewport)})).onStepExit((function(t){o(t.index),s!==hr[t.index].viewport&&c(hr[t.index].viewport)}))}),[]),(0,r.tZ)("div",{css:(0,r.iv)(u.tF," display:flex;flex-direction:row;height:100%;margin-top:5rem;","")},(0,r.tZ)(lr,null),(0,r.tZ)(ur,{currentPanel:n,viewport:s,setViewport:c}))},dr="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0My42MzYiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0My42MzYgNDAiPgogIDxwYXRoIGlkPSJQb2x5Z29uXzE5IiBkYXRhLW5hbWU9IlBvbHlnb24gMTkiIGQ9Ik0yMCwwLDQwLDQzLjYzNkgwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDMuNjM2KSByb3RhdGUoOTApIiBmaWxsPSIjMTExNDM2Ii8+Cjwvc3ZnPgo=";var fr=(0,r.iv)("align-items:center;background:",u.lB.sky,";display:flex;flex-direction:row;margin-left:.8rem;",""),mr={name:"okdrdc",styles:"left:-.8rem;position:relative;width:4rem;z-index:10"},vr=(0,r.iv)("color:",u.lB.indigo,";font-family:",u.Rq.calibre,";font-size:4rem;margin:0;padding:1rem;line-height:4.4rem;",""),gr=function(t){var e=t.title,n=t.height,i=t.width;return(0,r.tZ)("div",{css:(0,r.iv)(fr," height:",n,"px;width:",i,"px;","")},(0,r.tZ)("img",{src:dr,alt:"Decorative triangle",css:mr}),(0,r.tZ)("h2",{css:vr},e))};var yr={name:"1fttcpj",styles:"display:flex;flex-direction:column"},br={name:"aycq66",styles:"background-position:center;background-size:cover;height:80rem;margin:0 auto;position:relative;width:100%"},_r=(0,r.iv)(u.tF,";margin-top:-10rem;width:100%;z-index:10;z-index:10;",""),wr=(0,r.iv)("background:",u.lB.indigo,";color:",u.lB.white,";margin:0;padding:5rem 5.6rem;width:69rem;",""),xr=function(t){var e=t.image,n=t.title,i=t.children;return(0,r.tZ)("div",{css:yr},(0,r.tZ)("div",{css:(0,r.iv)(br," background-image:url(",e,");","")},(0,r.tZ)("div",{css:(0,r.iv)(u.tF," padding-top:17.5rem;","")},(0,r.tZ)(gr,{title:n,width:300,height:70}))),(0,r.tZ)("div",{css:_r},(0,r.tZ)("p",{css:wr},i)))},Er=n.p+"static/grid_1-aeda2ee2193ea5544350e32c4cea23ac.png",kr=n.p+"static/grid_2-05199cdcbb8408fe12a3a8669db79afa.png";var Mr={name:"ewbr87",styles:"display:grid;float:left;margin:2rem 5.5rem 0 0;width:69rem"},Sr={name:"iaaisa",styles:"grid-column:2/3;grid-row:2/3;padding-left:.5rem;width:34.5rem"},Pr={name:"u9ct9g",styles:"grid-column:1/2;grid-row:2/3;padding-right:.5rem;width:34.5rem"},Or={name:"8zdgcq",styles:"grid-column:1/3;grid-row:1/2;padding-bottom:1rem;width:70rem"},Cr=function(){return(0,r.tZ)("div",{css:Mr},(0,r.tZ)("img",{src:Er,alt:"Street view",css:Or}),(0,r.tZ)("img",{src:kr,alt:"Strip mall",css:Pr}),(0,r.tZ)("img",{src:kr,alt:"Highlight Dior Dedham",css:Sr}))};var Tr=(0,r.iv)("background:",u.lB.gossamer,";position:relative;",""),Rr={name:"gm6sv9",styles:"position:relative;top:-2rem;transform:rotate(90deg)"},Lr=(0,r.iv)(u.tF,";padding-bottom:6rem;",""),jr=function(t){var e=t.children,n=e[0],i=e.slice(1);return(0,r.tZ)("div",{css:Tr},(0,r.tZ)("div",{css:Lr},(0,r.tZ)("img",{src:dr,alt:"Decorative triangle",css:Rr}),n,(0,r.tZ)(Cr,null),i))},Ir=(0,r.iv)(u.tF," display:flex;flex-direction:row;margin:5rem auto;p:first-of-type{margin-top:0;}",""),zr=function(t){var e=t.children;return(0,r.tZ)("div",{css:Ir},e)},qr=n.p+"static/temp_house-6c48570f4b32f83eab3ec4d516e8ebc6.png";var Ar={name:"1x7qylw",styles:"align-items:flex-start;display:flex;flex-direction:row;margin-top:2rem;max-width:100rem"},Dr=(0,r.iv)("color:",u.lB.indigo,";font-family:",u.Rq.calibre,";font-size:4.8rem;line-height:5.6rem;",""),Zr=(0,r.iv)("color:",u.lB.glass,";",""),Nr=(0,r.iv)("background:",u.lB.glass,";height:70rem;margin:3.5rem auto;max-width:100rem;display:flex;flex-direction:column;align-items:center;justify-content:center;color:",u.lB.white,";margin-bottom:8.5rem;",""),Fr={name:"tixmx8",styles:"margin-right:5.4rem"},Br=function(){return(0,r.tZ)("div",{css:u.tF},(0,r.tZ)(gr,{title:"Okay, but that's one small site. How many places like this do we have in the region?",width:1158,height:120}),(0,r.tZ)("div",{css:Ar},(0,r.tZ)("img",{src:qr,css:Fr}),(0,r.tZ)("div",null,(0,r.tZ)("h3",{css:Dr},"Over"," ",(0,r.tZ)("span",{css:Zr},"3,000 sites")," ","and more than"," ",(0,r.tZ)("span",{css:Zr},"11 square miles")," ","of buildable area"),(0,r.tZ)("p",null,"Well, we looked at the regions data and identified sites across the region."),(0,r.tZ)("p",null,"MAPC mapped commercial properties across the region and identified those that might be good candidates for redevelopment: lower density commercial properties, built prior to [2000], with the following threshold criteria. We excluded properties with characteristics X, Y, Z.  In doing so we identified [x,000] sites with a total of [X,000] parcels."))),(0,r.tZ)("div",{css:Nr},"Visualization here"))},Vr=n(5444),Ur=(0,i.createContext)({color:"currentColor",size:"1em",weight:"regular",mirrored:!1});function Wr(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}var Hr=(0,i.forwardRef)((function(t,e){var n=t.color,r=t.size,o=t.weight,a=t.mirrored,s=t.children,u=t.renderPath,c=Wr(t,["color","size","weight","mirrored","children","renderPath"]),l=(0,i.useContext)(Ur),h=l.color,p=l.size,d=l.weight,f=l.mirrored,m=Wr(l,["color","size","weight","mirrored"]);return i.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:null!=r?r:p,height:null!=r?r:p,fill:null!=n?n:h,viewBox:"0 0 256 256",transform:a||f?"scale(-1, 1)":void 0},m,c),s,i.createElement("rect",{width:"256",height:"256",fill:"none"}),u(null!=o?o:d,null!=n?n:h))}));Hr.displayName="IconBase";var Gr=Hr,Yr=new Map;Yr.set("bold",(function(t){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M132.41106,190.73266l50.43543,31.95385c6.44693,4.08451,14.45124-1.99032,12.53819-9.51579l-14.57192-57.32241a8.75742,8.75742,0,0,1,2.83756-8.87589l45.2273-37.64345c5.94268-4.9462,2.87542-14.80876-4.75965-15.30428l-59.06388-3.83326a8.41836,8.41836,0,0,1-7.24792-5.3506l-22.02834-55.473a8.31887,8.31887,0,0,0-15.55566,0L98.19383,84.84083a8.41836,8.41836,0,0,1-7.24792,5.3506L31.882,94.02469c-7.63507.49552-10.70233,10.35808-4.75965,15.30428l45.2273,37.64345a8.75742,8.75742,0,0,1,2.83756,8.87589L61.6734,209.00846c-2.29566,9.03056,7.30952,16.32036,15.04583,11.41895l46.86971-29.69475A8.21431,8.21431,0,0,1,132.41106,190.73266Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))})),Yr.set("duotone",(function(t){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M132.41106,190.73266l50.43543,31.95385c6.44693,4.08451,14.45124-1.99032,12.53819-9.51579l-14.57192-57.32241a8.75742,8.75742,0,0,1,2.83756-8.87589l45.2273-37.64345c5.94268-4.9462,2.87542-14.80876-4.75965-15.30428l-59.06388-3.83326a8.41836,8.41836,0,0,1-7.24792-5.3506l-22.02834-55.473a8.31887,8.31887,0,0,0-15.55566,0L98.19383,84.84083a8.41836,8.41836,0,0,1-7.24792,5.3506L31.882,94.02469c-7.63507.49552-10.70233,10.35808-4.75965,15.30428l45.2273,37.64345a8.75742,8.75742,0,0,1,2.83756,8.87589L61.6734,209.00846c-2.29566,9.03056,7.30952,16.32036,15.04583,11.41895l46.86971-29.69475A8.21431,8.21431,0,0,1,132.41106,190.73266Z",opacity:"0.2"}),i.createElement("path",{d:"M132.41106,190.73266l50.43543,31.95385c6.44693,4.08451,14.45124-1.99032,12.53819-9.51579l-14.57192-57.32241a8.75742,8.75742,0,0,1,2.83756-8.87589l45.2273-37.64345c5.94268-4.9462,2.87542-14.80876-4.75965-15.30428l-59.06388-3.83326a8.41836,8.41836,0,0,1-7.24792-5.3506l-22.02834-55.473a8.31887,8.31887,0,0,0-15.55566,0L98.19383,84.84083a8.41836,8.41836,0,0,1-7.24792,5.3506L31.882,94.02469c-7.63507.49552-10.70233,10.35808-4.75965,15.30428l45.2273,37.64345a8.75742,8.75742,0,0,1,2.83756,8.87589L61.6734,209.00846c-2.29566,9.03056,7.30952,16.32036,15.04583,11.41895l46.86971-29.69475A8.21431,8.21431,0,0,1,132.41106,190.73266Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))})),Yr.set("fill",(function(){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M239.166,97.41117A16.37036,16.37036,0,0,0,224.63477,86.044l-59.39063-4.15625L143.21289,26.41117A16.33117,16.33117,0,0,0,127.99414,15.9971h-.01562A16.324,16.324,0,0,0,112.791,26.41117L90.43164,82.208,31.36914,86.044A16.37036,16.37036,0,0,0,16.83789,97.41117a16.68222,16.68222,0,0,0,5.15625,18.0625l45.4375,38.40625L53.916,207.044a18.37492,18.37492,0,0,0,7.01562,19.51562,17.83088,17.83088,0,0,0,20.0625.625l46.875-29.69531c.0625-.04687.125-.07812.26563,0l50.4375,31.95313a16.14026,16.14026,0,0,0,18.20312-.5625,16.64744,16.64744,0,0,0,6.35938-17.67969L188.77539,153.1221l45.23438-37.64843A16.68222,16.68222,0,0,0,239.166,97.41117Z"}))})),Yr.set("light",(function(t){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M132.41106,190.73266l50.43543,31.95385c6.44693,4.08451,14.45124-1.99032,12.53819-9.51579l-14.57192-57.32241a8.75742,8.75742,0,0,1,2.83756-8.87589l45.2273-37.64345c5.94268-4.9462,2.87542-14.80876-4.75965-15.30428l-59.06388-3.83326a8.41836,8.41836,0,0,1-7.24792-5.3506l-22.02834-55.473a8.31887,8.31887,0,0,0-15.55566,0L98.19383,84.84083a8.41836,8.41836,0,0,1-7.24792,5.3506L31.882,94.02469c-7.63507.49552-10.70233,10.35808-4.75965,15.30428l45.2273,37.64345a8.75742,8.75742,0,0,1,2.83756,8.87589L61.6734,209.00846c-2.29566,9.03056,7.30952,16.32036,15.04583,11.41895l46.86971-29.69475A8.21431,8.21431,0,0,1,132.41106,190.73266Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))})),Yr.set("thin",(function(t){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M132.41106,190.73266l50.43543,31.95385c6.44693,4.08451,14.45124-1.99032,12.53819-9.51579l-14.57192-57.32241a8.75742,8.75742,0,0,1,2.83756-8.87589l45.2273-37.64345c5.94268-4.9462,2.87542-14.80876-4.75965-15.30428l-59.06388-3.83326a8.41836,8.41836,0,0,1-7.24792-5.3506l-22.02834-55.473a8.31887,8.31887,0,0,0-15.55566,0L98.19383,84.84083a8.41836,8.41836,0,0,1-7.24792,5.3506L31.882,94.02469c-7.63507.49552-10.70233,10.35808-4.75965,15.30428l45.2273,37.64345a8.75742,8.75742,0,0,1,2.83756,8.87589L61.6734,209.00846c-2.29566,9.03056,7.30952,16.32036,15.04583,11.41895l46.86971-29.69475A8.21431,8.21431,0,0,1,132.41106,190.73266Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))})),Yr.set("regular",(function(t){return i.createElement(i.Fragment,null,i.createElement("path",{d:"M132.41106,190.73266l50.43543,31.95385c6.44693,4.08451,14.45124-1.99032,12.53819-9.51579l-14.57192-57.32241a8.75742,8.75742,0,0,1,2.83756-8.87589l45.2273-37.64345c5.94268-4.9462,2.87542-14.80876-4.75965-15.30428l-59.06388-3.83326a8.41836,8.41836,0,0,1-7.24792-5.3506l-22.02834-55.473a8.31887,8.31887,0,0,0-15.55566,0L98.19383,84.84083a8.41836,8.41836,0,0,1-7.24792,5.3506L31.882,94.02469c-7.63507.49552-10.70233,10.35808-4.75965,15.30428l45.2273,37.64345a8.75742,8.75742,0,0,1,2.83756,8.87589L61.6734,209.00846c-2.29566,9.03056,7.30952,16.32036,15.04583,11.41895l46.86971-29.69475A8.21431,8.21431,0,0,1,132.41106,190.73266Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))}));var Xr=function(t,e){return function(t,e,n){var i=n.get(t);return i?i(e):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)}(t,e,Yr)},Jr=(0,i.forwardRef)((function(t,e){return i.createElement(Gr,Object.assign({ref:e},t,{renderPath:Xr}))}));Jr.displayName="Star";var Kr=Jr;var Qr=(0,r.iv)("background:",u.lB.warmGray,";margin:.5rem 0;padding:1.5rem 2rem;",""),$r=(0,r.iv)("color:",u.lB.indigo,";font-family:",u.Rq.calibre,";font-size:2rem;font-weight:600;margin:0 0 1rem 0;",""),to={name:"pojto4",styles:"background:none;border:none;float:right"},eo={name:"qczzy0",styles:"padding-left:0;list-style:none"};function no(t){return t.toFixed(2)}var io=function(t){var e=t.node,n=t.dispatch,o=(0,i.useState)(!1),a=o[0],s=o[1];return(0,r.tZ)("li",{key:e.site_oid,css:Qr},(0,r.tZ)("button",{css:to,onClick:function(){n({type:"addSite",toggledSite:+e.site_oid}),s(!a)}},(0,r.tZ)(Kr,{size:20,weight:"fill",color:a?"#FDB525":u.lB.fontGray})),(0,r.tZ)("p",{css:$r},e.municipal," site ",e.site_oid),(0,r.tZ)("ul",{css:eo},(0,r.tZ)("li",null,"Growth Potential Score: ",no(+e.Growth_Potential_Score)),(0,r.tZ)("li",null,"Healthy Communities Score: ",no(+e.Healthy_Communtiies_Score)),(0,r.tZ)("li",null,"Healthy Watersheds Score: ",no(+e.Healthy_Watersheds_Score)),(0,r.tZ)("li",null,"Travel Choices Score: ",no(+e.Travel_Choices_Score)),(0,r.tZ)("li",null,"Overall Score: ",no(+e.Overall_Score))))};var ro={name:"626wwx",styles:".mapboxgl-ctrl-geocoder{max-width:50rem;width:50rem;}"},oo={name:"yhalsb",styles:"display:flex;flex-direction:column;width:50rem"},ao={name:"hp7frq",styles:"padding-left:0;list-style:none;max-height:55rem;overflow-y:scroll;padding-right:1rem"};var so=function(t){var e=t.data,n=t.selectedMuni,i=t.containerRef,o=t.dispatch;return(0,r.tZ)("div",{css:oo},(0,r.tZ)("div",{ref:i,css:ro}),(0,r.tZ)("ul",{css:ao},n?function(t,e,n){if(e)return t.reduce((function(t,i){return i.municipal===e&&t.push((0,r.tZ)(io,{node:i,key:i.site_oid,dispatch:n})),t}),[])}(e,n,o):""))},uo=n(5040),co=n.n(uo);function lo(t,e){var n=V([],e,t);return B(n,n,1/n[3]),n}function ho(t,e){if(!t)throw new Error(e||"viewport-mercator-project: assertion failed.")}var po=Math.PI,fo=po/4,mo=po/180,vo=180/po,go=4003e4;function yo(t){return Math.pow(2,t)}function bo(t,e){var n=Z(t,2),i=n[0],r=n[1];ho(Number.isFinite(i)&&Number.isFinite(e)),ho(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var o=r*mo;return[(e*=512)*(i*mo+po)/(2*po),e*(po-Math.log(Math.tan(fo+.5*o)))/(2*po)]}function _o(t,e){var n=Z(t,2),i=n[0],r=n[1],o=i/(e*=512)*(2*po)-po,a=2*(Math.atan(Math.exp(po-r/e*(2*po)))-fo);return[o*vo,a*vo]}function wo(t){var e=t.latitude,n=t.longitude,i=t.zoom,r=t.scale,o=t.highPrecision,a=void 0!==o&&o;r=void 0!==r?r:yo(i),ho(Number.isFinite(e)&&Number.isFinite(n)&&Number.isFinite(r));var s={},u=512*r,c=Math.cos(e*mo),l=u/360,h=l/c,p=u/go/c;if(s.pixelsPerMeter=[p,-p,p],s.metersPerPixel=[1/p,-1/p,1/p],s.pixelsPerDegree=[l,-h,p],s.degreesPerPixel=[1/l,-1/h,1/p],a){var d=mo*Math.tan(e*mo)/c,f=l*d/2,m=u/go*d,v=m/h*p;s.pixelsPerDegree2=[0,-f,m],s.pixelsPerMeter2=[v,0,v]}return s}function xo(t){var e=t.height,n=t.pitch,i=t.bearing,r=t.altitude,o=t.center,a=void 0===o?null:o,s=t.flipY,u=void 0!==s&&s,c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return K(c,c,[0,0,-r]),Q(c,c,[1,1,1/e]),$(c,c,-n*mo),tt(c,c,i*mo),u&&Q(c,c,[1,-1,1]),a&&K(c,c,ct([],a)),c}function Eo(t){var e=t.width,n=t.height,i=t.pitch,r=function(t){var e=t.width,n=t.height,i=t.altitude,r=void 0===i?1.5:i,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,u=void 0===s?1:s,c=t.farZMultiplier,l=void 0===c?1:c,h=a*mo,p=Math.atan(.5/r),d=Math.sin(p)*r/Math.sin(Math.PI/2-h-p),f=Math.cos(Math.PI/2-h)*d+r;return{fov:2*Math.atan(n/2/r),aspect:e/n,focalDistance:r,near:u,far:f*l}}({width:e,height:n,altitude:t.altitude,pitch:i,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier});return et([],r.fov,r.aspect,r.near,r.far)}function ko(t,e){var n=Z(t,3),i=n[0],r=n[1],o=n[2],a=void 0===o?0:o;return ho(Number.isFinite(i)&&Number.isFinite(r)&&Number.isFinite(a)),lo(e,[i,r,a,1])}function Mo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Z(t,3),r=i[0],o=i[1],a=i[2];if(ho(Number.isFinite(r)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=lo(e,[r,o,a,1]);return s}var u=lo(e,[r,o,0,1]),c=lo(e,[r,o,1,1]),l=u[2],h=c[2],p=l===h?0:((n||0)-l)/(h-l);return st([],u,c,p)}var So=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function Po(t){var e=t.width,n=t.height,i=t.bounds,r=t.padding,o=void 0===r?0:r,a=t.offset,s=void 0===a?[0,0]:a,u=Z(i,2),c=Z(u[0],2),l=c[0],h=c[1],p=Z(u[1],2),d=p[0],f=p[1];if(Number.isFinite(o)){o={top:o,bottom:o,left:o,right:o}}else ho(Number.isFinite(o.top)&&Number.isFinite(o.bottom)&&Number.isFinite(o.left)&&Number.isFinite(o.right));var m=new Oo({width:e,height:n,longitude:0,latitude:0,zoom:0}),v=m.project([l,f]),g=m.project([d,h]),y=[Math.abs(g[0]-v[0]),Math.abs(g[1]-v[1])],b=[e-o.left-o.right-2*Math.abs(s[0]),n-o.top-o.bottom-2*Math.abs(s[1])];ho(b[0]>0&&b[1]>0);var _=b[0]/y[0],w=b[1]/y[1],x=(o.right-o.left)/2/_,E=(o.bottom-o.top)/2/w,k=[(g[0]+v[0])/2+x,(g[1]+v[1])/2+E],M=m.unproject(k),S=m.zoom+Math.log2(Math.abs(Math.min(_,w)));return{longitude:M[0],latitude:M[1],zoom:S}}var Oo=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.width,r=n.height,o=n.latitude,a=void 0===o?0:o,s=n.longitude,u=void 0===s?0:s,c=n.zoom,l=void 0===c?0:c,h=n.pitch,p=void 0===h?0:h,d=n.bearing,f=void 0===d?0:d,m=n.altitude,v=void 0===m?1.5:m,g=n.nearZMultiplier,y=n.farZMultiplier;b(this,e),i=i||1,r=r||1;var w=yo(l);v=Math.max(.75,v);var x=bo([u,a],w);x[2]=0;var E=Eo({width:i,height:r,pitch:p,bearing:f,altitude:v,nearZMultiplier:g||1/r,farZMultiplier:y||1.01}),k=xo({height:r,center:x,pitch:p,bearing:f,altitude:v,flipY:!0});return(t=S(this,P(e).call(this,{width:i,height:r,viewMatrix:k,projectionMatrix:E}))).latitude=a,t.longitude=u,t.zoom=l,t.pitch=p,t.bearing=f,t.altitude=v,t.scale=w,t.center=x,t.pixelsPerMeter=wo(_(_(t))).pixelsPerMeter[2],Object.freeze(_(_(t))),t}return k(e,t),x(e,[{key:"projectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return bo(t,e)}},{key:"unprojectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return _o(t,e)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=Mo(t.pos,this.pixelUnprojectionMatrix),i=it([],bo(e,this.scale),at([],n));return _o(it([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.width,r=this.height,o=Po(Object.assign({width:i,height:r,bounds:t},n)),a=o.longitude,s=o.latitude,u=o.zoom;return new e({width:i,height:r,longitude:a,latitude:s,zoom:u})}}]),e}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,i=e.height,r=e.viewMatrix,o=void 0===r?So:r,a=e.projectionMatrix,s=void 0===a?So:a;b(this,t),this.width=n||1,this.height=i||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];J(u,u,this.projectionMatrix),J(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Q(c,c,[this.width/2,-this.height/2,1]),K(c,c,[1,-1,0]),J(c,c,this.viewProjectionMatrix);var l=X([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c);if(!l)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=c,this.pixelUnprojectionMatrix=l,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return x(t,[{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&nt(e.projectionMatrix,this.projectionMatrix)&&nt(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,i=void 0===n||n,r=this.projectPosition(t),o=ko(r,this.pixelProjectionMatrix),a=Z(o,2),s=a[0],u=a[1],c=i?u:this.height-u;return 2===t.length?[s,c]:[s,c,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,i=void 0===n||n,r=e.targetZ,o=Z(t,3),a=o[0],s=o[1],u=o[2],c=i?s:this.height-s,l=r&&r*this.pixelsPerMeter,h=Mo([a,c,u],this.pixelUnprojectionMatrix,l),p=this.unprojectPosition(h),d=Z(p,3),f=d[0],m=d[1],v=d[2];return Number.isFinite(u)?[f,m,v]:Number.isFinite(r)?[f,m,r]:[f,m]}},{key:"projectPosition",value:function(t){var e=Z(this.projectFlat(t),2);return[e[0],e[1],(t[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(t){var e=Z(this.unprojectFlat(t),2);return[e[0],e[1],(t[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}},{key:"unprojectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]||this.scale;return t}}]),t}()),Co=["top-left","top-right","bottom-left","bottom-right"],To=function(t){var e,n;function i(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).geocoder=null,e.cachedResult=null,e.initializeGeocoder=function(){var t=e.getMapboxMap(),n=e.getContainerNode(),i=e.props,r=i.inputValue,o=i.render,a=i.getItemValue,s=i.onInit,u=i.position,c={accessToken:i.mapboxApiAccessToken,origin:i.origin,zoom:i.zoom,flyTo:!1,placeholder:i.placeholder,proximity:i.proximity,trackProximity:i.trackProximity,collapsed:i.collapsed,clearAndBlurOnEsc:i.clearAndBlurOnEsc,clearOnBlur:i.clearOnBlur,bbox:i.bbox,types:i.types,countries:i.countries,minLength:i.minLength,limit:i.limit,language:i.language,filter:i.filter,localGeocoder:i.localGeocoder,reverseGeocode:i.reverseGeocode,enableEventLogging:i.enableEventLogging,marker:i.marker,mapboxgl:Qt()};o&&"function"==typeof o&&(c.render=o),a&&"function"==typeof a&&(c.getItemValue=a),e.geocoder=new(co())(c),e.subscribeEvents(),n?n.appendChild(e.geocoder.onAdd(t)):t.addControl(e.geocoder,Co.find((function(t){return u===t}))),null!=r?e.geocoder.setInput(r):e.cachedResult&&e.geocoder.setInput(e.cachedResult.place_name),(e.cachedResult||null!=r)&&e.showClearIcon(),s(e.geocoder)},e.showClearIcon=function(){e.geocoder._clearEl.style.display="block"},e.getMapboxMap=function(){var t=e.props.mapRef;return t&&t.current&&t.current.getMap()||null},e.getContainerNode=function(){var t=e.props.containerRef;return t&&t.current||null},e.subscribeEvents=function(){e.geocoder.on("clear",e.handleClear),e.geocoder.on("loading",e.handleLoading),e.geocoder.on("results",e.handleResults),e.geocoder.on("result",e.handleResult),e.geocoder.on("error",e.handleError)},e.unsubscribeEvents=function(){e.geocoder.off("clear",e.handleClear),e.geocoder.off("loading",e.handleLoading),e.geocoder.off("results",e.handleResults),e.geocoder.off("result",e.handleResult),e.geocoder.off("error",e.handleError)},e.removeGeocoder=function(){var t=e.getMapboxMap();e.unsubscribeEvents(),t&&t.removeControl&&e.getMapboxMap().removeControl(e.geocoder),e.geocoder=null},e.handleClear=function(){e.cachedResult=null,e.props.onClear()},e.handleLoading=function(t){e.props.onLoading(t)},e.handleResults=function(t){e.props.onResults(t)},e.handleResult=function(t){var n=t.result,i=e.props,r=i.onViewportChange,o=i.onResult,a=n.bbox,s=n.center,u=n.properties,c=(void 0===u?{}:u).short_code,l=s[0],h=s[1],p={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}},d=e.getMapboxMap().getContainer().getBoundingClientRect(),f=d.width,m=d.height,v=e.geocoder.options.zoom,g=function(t,e){return new Oo(e).fitBounds(t)};try{!p[c]&&a?v=g([[a[0],a[1]],[a[2],a[3]]],{width:f,height:m}).zoom:p[c]&&(v=g(p[c].bbox,{width:f,height:m}).zoom)}catch(t){console.warn("following result caused an error when trying to zoom to bbox: ",n),v=e.geocoder.options.zoom}r({longitude:l,latitude:h,zoom:v,transitionInterpolator:new ge,transitionDuration:3e3}),o(t),e.cachedResult=n,e.geocoder._typeahead.selected=null,e.showClearIcon()},e.handleError=function(t){e.props.onError(t)},e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.componentDidMount=function(){this.initializeGeocoder()},r.componentWillUnmount=function(){this.removeGeocoder()},r.componentDidUpdate=function(){this.removeGeocoder(),this.initializeGeocoder()},r.getGeocoder=function(){return this.geocoder},r.render=function(){return null},i}(i.PureComponent);To.propTypes={mapRef:T().object.isRequired,containerRef:T().object,onViewportChange:T().func,mapboxApiAccessToken:T().string.isRequired,inputValue:T().string,origin:T().string,zoom:T().number,placeholder:T().string,proximity:T().object,trackProximity:T().bool,collapsed:T().bool,clearAndBlurOnEsc:T().bool,clearOnBlur:T().bool,bbox:T().array,types:T().string,countries:T().string,minLength:T().number,limit:T().number,language:T().string,filter:T().func,localGeocoder:T().func,reverseGeocode:T().bool,enableEventLogging:T().bool,marker:T().bool,render:T().func,getItemValue:T().func,position:T().oneOf(Co),onInit:T().func,onClear:T().func,onLoading:T().func,onResults:T().func,onResult:T().func,onError:T().func},To.defaultProps={onViewportChange:function(){},origin:"https://api.mapbox.com",zoom:16,placeholder:"Search",trackProximity:!1,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,minLength:2,limit:5,reverseGeocode:!1,enableEventLogging:!0,marker:!0,position:"top-right",onInit:function(){},onClear:function(){},onLoading:function(){},onResults:function(){},onResult:function(){},onError:function(){}};var Ro=To,Lo=["Acton","Arlington","Ashland","Bedford","Bellingham","Belmont","Beverly","Bolton","Boston","Boxborough","Braintree","Brookline","Burlington","Cambridge","Canton","Carlisle","Chelsea","Cohasset","Concord","Danvers","Dedham","Dover","Duxbury","Essex","Everett","Foxborough","Framingham","Franklin","Gloucester","Hamilton","Hanover","Hingham","Holbrook","Holliston","Hopkinton","Hudson","Hull","Ipswich","Lexington","Lincoln","Littleton","Lynn","Lynnfield","Malden","Manchester","Manchester-by-the-Sea","Marblehead","Marlborough","Marshfield","Maynard","Medfield","Medford","Medway","Melrose","Middleton","Milford","Millis","Milton","Nahant","Natick","Needham","Newton","Norfolk","North Reading","Norwell","Norwood","Peabody","Pembroke","Quincy","Randolph","Reading","Revere","Rockland","Rockport","Salem","Saugus","Scituate","Sharon","Sherborn","Somerville","Southborough","Stoneham","Stoughton","Stow","Sudbury","Swampscott","Topsfield","Wakefield","Walpole","Waltham","Watertown","Wayland","Wellesley","Wenham","Weston","Westwood","Weymouth","Wilmington","Winchester","Winthrop","Woburn","Wrentham"];var jo={name:"12iuoey",styles:"bottom:4.2rem;position:absolute;right:1rem"},Io={name:"cc53eh",styles:"flex-shrink:0;padding-left:5rem"};var zo=function(t){var e=t.selectedMuni,n=t.setMuni,o=t.containerRef,a=t.highlightedSites,s=(0,i.useRef)();(0,i.useEffect)((function(){if(s&&s.current){var t=s.current.getMap();null==t||t.on("load",(function(){null==t||t.moveLayer("state-label"),null==t||t.moveLayer("settlement-minor-label"),null==t||t.moveLayer("settlement-major-label")}))}}),[]);var u=(0,i.useState)({latitude:42.40319165277521,longitude:-71.10714566074827,zoom:8}),c=u[0],l=u[1],h=(0,i.useState)(!1),p=h[0],d=h[1],f=(0,i.useState)(),m=f[0],v=f[1],g=(0,i.useState)(),b=g[0],_=g[1],w=(0,i.useCallback)((function(t){return l(t)}),[]),x=(0,i.useCallback)((function(t){return w(Object.assign({},t,{transitionDuration:1e3,zoom:11}))}),[]);return(0,r.tZ)("div",{css:Io},(0,r.tZ)(Qn,(0,y.Z)({},c,{ref:s,width:"520px",height:"600px",onViewportChange:w,mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",mapStyle:"mapbox://styles/ihill/cknj7cvb513e317rxm4a8i9ah",scrollZoom:!1,onClick:function(t){n(function(t){var e=t.find((function(t){return"Municipal highlight"===t.layer.id}));return e?e.properties.municipal:""}(t.features)),l(Object.assign({},c,{longitude:t.lngLat[0],latitude:t.lngLat[1],zoom:11}))},onHover:function(t){t.features.find((function(t){return"retrofit_site_pts-3ot9ol"===t.sourceLayer}))?(v(t.lngLat),d(!0),_(t.features.find((function(t){return"retrofit_site_pts-3ot9ol"===t.sourceLayer})).properties)):d(!1)}}),(0,r.tZ)(Ro,{containerRef:o,mapRef:s,onViewportChange:x,mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",types:"place",bbox:(0,i.useMemo)((function(){return[-71.66866501431952,41.97523050594343,-70.53487628480008,42.74357855916575]}),[]),filter:(0,i.useCallback)((function(t){return!!Lo.find((function(e){return t.place_name.includes(e+", Massachusetts")}))}),[]),onResult:(0,i.useCallback)((function(t){"Manchester-by-the-Sea"===t.result.text?n("Manchester"):n(t.result.text)}),[]),marker:!1,placeholder:"Search for a municipality"}),p&&(0,r.tZ)(Ti,{latitude:m[1],longitude:m[0],closeButton:!1,onClose:function(){return d(!1)},anchor:"top"},(0,r.tZ)("p",null,null==b?void 0:b.municipal," site ",null==b?void 0:b.site_oid)),(0,r.tZ)(ii,{id:"Municipalities",type:"vector",url:"mapbox://ihill.763lks2o"},(0,r.tZ)(ci,{type:"fill",id:"Municipal highlight",source:"Municipalities","source-layer":"MAPC_borders-0im3ea",paint:{"fill-color":["match",["get","municipal"],[""+e],"hsla(0, 0%, 0%, 0)","hsla(0, 0%, 0%, 0.3)"]}})),(0,r.tZ)(ii,{id:"Sites",type:"vector",url:"mapbox://ihill.0a4w5d52"},(0,r.tZ)(ci,{type:"circle",id:"Sites (circles)",source:"Sites","source-layer":"retrofit_site_pts-3ot9ol",paint:{"circle-color":["match",["get","municipal"],[e||""],["step",["get","Overall_Sc"],"#FFFDA7",2,"#99f26d",2.5,"#78cd98",3,"#649abd",3.5,"#5456a0"],"gray"],"circle-radius":["interpolate",["linear"],["zoom"],8,3,12,7],"circle-opacity":["match",["get","top20_p"],1,1,0],"circle-stroke-color":a.length>0?["match",["get","site_oid"],a,"#FDB525","rgba(0, 0, 0, 0)"]:"rgba(0, 0, 0, 0)","circle-stroke-width":2}})),(0,r.tZ)("div",{css:jo},(0,r.tZ)(Gi,null))))},qo=(0,r.iv)("background:",u.lB.gossamer,";display:flex;flex-direction:row;justify-content:space-between;padding:3.5rem 5rem;margin:4.5rem 0 5rem 0;",""),Ao={highlightedSites:[]};function Do(t,e){switch(e.type){case"addSite":return t.highlightedSites.find((function(t){return t===e.toggledSite}))?Object.assign({},t,{highlightedSites:t.highlightedSites.filter((function(t){return t!==e.toggledSite}))}):Object.assign({},t,{highlightedSites:[].concat((0,A.Z)(t.highlightedSites),[e.toggledSite])});default:return Object.assign({},t)}}var Zo=function(){var t=(0,i.useReducer)(Do,Ao),e=t[0],n=t[1],o=(0,i.useState)(),a=o[0],s=o[1],u=(0,i.useRef)(null);return(0,r.tZ)(Vr.i1,{query:"2734117048",render:function(t){return(0,r.tZ)("div",{css:qo},(0,r.tZ)(so,{data:t.allSitesQuintilesCsv.nodes,selectedMuni:a,containerRef:u,dispatch:n}),(0,r.tZ)(zo,{selectedMuni:a,setMuni:s,containerRef:u,highlightedSites:e.highlightedSites}))}})};var No={name:"y0k8tx",styles:"max-width:77rem;margin-top:4rem"},Fo=function(){return(0,r.tZ)("div",{css:u.tF},(0,r.tZ)(gr,{title:"The Most Promising Opportunities",width:650,height:70}),(0,r.tZ)("p",{css:No},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. No vis iuvaret appareat. Scripta periculis ei eam, te pro movet reformidans. In pro vero novum officiis, eros copiosae nam id, no mel legimus deleniti mandamus. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec. Scripta periculis ei eam, te pro movet reformidans. Pri viderer tamquam ei. His cu probo blandit. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Sed no sumo stet, est ei quodsi feugait liberavisse, in pro quot facete definitiones. Ei qui diceret voluptua luptatum, te dolorum detracto hendrerit sed, ad per offendit consetetur. Eos ex affert fabulas iudicabit, dolore ornatus instructior ex per. Et mazim recteque nam. Scripta periculis ei eam, te pro movet reformidans. Te quo atqui libris, dicta aeque usu an."),(0,r.tZ)(Zo,null),(0,r.tZ)("p",{css:No},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Vivendum intellegat et qui, ei denique consequuntur vix. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec. Scripta periculis ei eam, te pro movet reformidans. Vivendum intellegat et qui, ei denique consequuntur vix. Partiendo adversarium no mea. Scripta periculis ei eam, te pro movet reformidans. Vis labore scripta ne, ut alii mediocritatem his. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec."))};var Bo=(0,r.iv)(u.tF," height:80rem;",""),Vo=(0,r.iv)("background:",u.lB.sky,";float:right;padding:6rem 7.5rem;position:relative;width:80rem;z-index:10;",""),Uo=(0,r.iv)("color:",u.lB.indigo,";font-size:5.2rem;",""),Wo=(0,r.iv)("background:",u.lB.indigo,";color:",u.lB.white,";float:left;padding:5rem 10rem;position:relative;margin-top:-4rem;width:40rem;",""),Ho={name:"1nfpojk",styles:"font-size:3.6rem"},Go=(0,r.iv)("list-style-image:url(","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSI5LjE2NyIgdmlld0JveD0iMCAwIDEwIDkuMTY3Ij4KICA8cGF0aCBpZD0iUG9seWdvbl8yOSIgZGF0YS1uYW1lPSJQb2x5Z29uIDI5IiBkPSJNNC41ODMsMCw5LjE2NywxMEgwWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTApIHJvdGF0ZSg5MCkiIGZpbGw9IiNmZmYiLz4KPC9zdmc+Cg==",");font-size:1.8rem;",""),Yo=(0,r.iv)("color:",u.lB.white,";text-decoration:none;",""),Xo={name:"1yr3jv",styles:"padding-left:2rem"},Jo=function(){return(0,r.tZ)("div",{css:Bo},(0,r.tZ)("div",{css:Vo},(0,r.tZ)("h2",{css:Uo},"We have changed before"),(0,r.tZ)("p",null,"Obviously, though, it isn’t all in Woburn (though some of it is!) As the map below indicates, the distribution of strip mall parcels is spread fairly evenly throughout each subregion. The Inner Core has the most land area, at 2.6 square miles, which may not be surprising as there is a greater concentration of retail activity in these communities. On the other hand, one would expect these communities — which are denser, have mixed-use neighborhoods, and more transit access than other subregions — to have a smaller concentration of autocentric retail"),(0,r.tZ)("p",null,"MAPC developed a set of assumptions for each of the region’s various community types. Each community also had separate sets of assumptions for parcels within various station area types (if applicable) and for parcels located along major roadway arterials. This nuanced approached allowed for creating a varied set of realistic assumptions in a context-sensitive way. (For example, parcels in Saugus’ downtown would be different from what could likely be built along Route 1.) MAPC used best practices and, where available, data to formulate the various assumptions (i.e.,")),(0,r.tZ)("div",{css:Wo},(0,r.tZ)("h2",{css:Ho},"Related Reports"),(0,r.tZ)("ul",{css:Xo},(0,r.tZ)("li",{css:Go},(0,r.tZ)("a",{href:"#",css:Yo},"Report 1")),(0,r.tZ)("li",{css:Go},(0,r.tZ)("a",{href:"#",css:Yo},"Report 2")),(0,r.tZ)("li",{css:Go},(0,r.tZ)("a",{href:"#",css:Yo},"Report 3")))))};var Ko=(0,r.iv)(u.tF," margin-bottom:5rem;",""),Qo=(0,r.iv)("color:",u.lB.indigo,";font-size:3.6rem;",""),$o={name:"12iuoey",styles:"bottom:4.2rem;position:absolute;right:1rem"},ta=function(){var t=(0,i.useRef)(null),e=(0,i.useState)({latitude:42.329755482312734,longitude:-71.09049350120513,zoom:8.4}),n=e[0],o=e[1];(0,i.useEffect)((function(){var e=t.current;null==e||e.on("load",(function(){null==e||e.moveLayer("state-label"),null==e||e.moveLayer("settlement-minor-label"),null==e||e.moveLayer("settlement-major-label")}))}),[]);return(0,r.tZ)("div",{css:Ko},(0,r.tZ)("h2",{css:Qo},"Explore"),(0,r.tZ)(Qn,(0,y.Z)({},n,{ref:function(e){return function(e){t.current=e&&e.getMap()}(e)},width:"100%",height:"60rem",onViewportChange:function(t){return o(t)},mapboxApiAccessToken:"pk.eyJ1IjoiaWhpbGwiLCJhIjoiY2plZzUwMTRzMW45NjJxb2R2Z2thOWF1YiJ9.szIAeMS4c9YTgNsJeG36gg",mapStyle:"mapbox://styles/ihill/cknt8pp01013q17tds07ns9k9"}),(0,r.tZ)(ii,{id:"Sites",type:"vector",url:"mapbox://ihill.0a4w5d52"},(0,r.tZ)(ci,{type:"circle",id:"Sites (circles)",source:"Sites","source-layer":"retrofit_site_pts-3ot9ol",paint:{"circle-color":["step",["get","Overall_Sc"],"#FFFDA7",2,"#99f26d",2.5,"#78cd98",3,"#649abd",3.5,"#5456a0"],"circle-radius":["interpolate",["linear"],["zoom"],8,3,12,7]}})),(0,r.tZ)("div",{css:$o},(0,r.tZ)(Gi,null))))},ea=n.p+"static/dior_dedham-287b0946cbc4837674929d8006053f47.png",na=n.p+"static/blueprint1-b2427007d7fa0a0a54ba66f5efc31524.png",ia=n.p+"static/tempImpact1-6596901b7b68a2803307c74dc8cadc4d.png",ra=n.p+"static/tempImpact2-19f6219dd121869c1d09bb314674cc56.png";var oa=(0,r.iv)("color:",u.lB.indigo,";font-size:2.8rem;margin-top:0;",""),aa={name:"fztsha",styles:"margin-right:4rem"},sa={name:"fztsha",styles:"margin-right:4rem"},ua={name:"fztsha",styles:"margin-right:4rem"},ca={name:"fztsha",styles:"margin-right:4rem"},la=function(){return(0,r.tZ)(i.Fragment,null,(0,r.tZ)(o.q,null,(0,r.tZ)("title",null,"Rethinking the Suburban Strip"),(0,r.tZ)("link",{href:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.css",rel:"stylesheet"})),(0,r.tZ)(a.Z,null,(0,r.tZ)(m,null),(0,r.tZ)("main",null,(0,r.tZ)(xr,{image:ea,title:"Dior Dedham"},"100 years ago, the land at 123 Main Street in Landborough was a pasture; in the 1960s, it was developed into a small shopping plaza; by 2000, the plaza was struggling. In 2015, a new chapter began when this land was redeveloped as a small residential building. The new apartments/condos are home to people who might otherwise not have had a chance to live in or stay in Landborough. The apartments use less energy than single family homes and didn’t require the destruction of natural areas. People who live there can walk to get a cup of coffee, or buy a gallon of milk, or to get on the bus, so they are not contributing to traffic congestion. Tax revenue is higher than it was before. By replacing a shabby retail plaza, the new building enhanced the character of the town."),(0,r.tZ)(pr,null),(0,r.tZ)(jr,null,(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sit fugit nostrum et. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec. Eos verear percipit ex, eos ne eligendi inimicus. Scripta periculis ei eam, te pro movet reformidans. Vivendum intellegat et qui, ei denique consequuntur vix. Semper aeterno percipit ut his, sea ex utinam referrentur repudiandae. Saepe imperdiet at per, appareat vituperata vix te, pri sint assueverit te. Scripta periculis ei eam, te pro movet reformidans. Te cum aeque repudiandae delicatissimi, cu populo dictas ponderum vel, dolor consequat ut vix. Dicit dicant quaestio pri eu, no principes persecuti liberavisse sit. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Scripta periculis ei eam, te pro movet reformidans. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te."),(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. No vis iuvaret appareat. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec. Scripta periculis ei eam, te pro movet reformidans. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Vivendum intellegat et qui, ei denique consequuntur vix. Scripta periculis ei eam, te pro movet reformidans. Accusam explicari sed ei. Vivendum intellegat et qui, ei denique consequuntur vix. Vivendum intellegat et qui, ei denique consequuntur vix. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Pri veritus expetendis ex. Prima zril primis eu sed, mei ei eirmod moderatius adversarium. Ridens nostro perfecto ad cum, debet omnes splendide sit eu, vix an iisque dissentias. Qui gloriatur scribentur et, id velit verear mel, cum no porro debet.")),(0,r.tZ)(zr,null,(0,r.tZ)("div",{className:"text",css:ca},(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Harum repudiandae sea at. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Vivendum intellegat et qui, ei denique consequuntur vix. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Sit fugit nostrum et. Partiendo adversarium no mea. Tritani reprehendunt pro an, his ne liber iusto. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Sonet tibique sea et. Harum repudiandae sea at. No epicuri hendrerit consetetur sit, sit dicta adipiscing ex, in facete detracto deterruisset duo."),(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec. Usu ut commune mentitum, putent facete vim id. Vivendum intellegat et qui, ei denique consequuntur vix. Scripta periculis ei eam, te pro movet reformidans. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Vivendum intellegat et qui, ei denique consequuntur vix. Vivendum intellegat et qui, ei denique consequuntur vix. Erroribus adipiscing id eam. Vivendum intellegat et qui, ei denique consequuntur vix. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Unum dicam posidonium eu vix, sea eu ubique viderer civibus, oporteat signiferumque eos et. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec.")),(0,r.tZ)("div",{className:"images"},(0,r.tZ)("img",{src:na}))),(0,r.tZ)(Br,null),(0,r.tZ)(Fo,null),(0,r.tZ)("div",{css:(0,r.iv)(u.tF,";padding-top:8.5rem;","")},(0,r.tZ)(gr,{title:"Impacts",height:70,width:650})),(0,r.tZ)(zr,null,(0,r.tZ)("div",{className:"images",css:ua},(0,r.tZ)("img",{src:ia})),(0,r.tZ)("div",{className:"text"},(0,r.tZ)("h3",{css:oa},"Fiscal"),(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Harum repudiandae sea at. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Vivendum intellegat et qui, ei denique consequuntur vix. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Sit fugit nostrum et. Partiendo adversarium no mea. Tritani reprehendunt pro an, his ne liber iusto. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Sonet tibique sea et. Harum repudiandae sea at. No epicuri hendrerit consetetur sit, sit dicta adipiscing ex, in facete detracto deterruisset duo."),(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Vivendum intellegat et qui, ei denique consequuntur vix. Pri viderer tamquam ei. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. His an amet petentium voluptatibus, modo malis error nec no. Vivendum intellegat et qui, ei denique consequuntur vix. Vivendum intellegat et qui, ei denique consequuntur vix. Semper aeterno percipit ut his, sea ex utinam referrentur repudiandae. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Ad per diam dicant interesset, lorem iusto sensibus ut sed. Offendit eleifend moderatius ex vix, quem odio mazim et qui, purto expetendis cotidieque quo cu, veri persius vituperata ei nec."))),(0,r.tZ)(zr,null,(0,r.tZ)("div",{className:"text",css:sa},(0,r.tZ)("h3",{css:oa},"Environmental"),(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Harum repudiandae sea at. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Vivendum intellegat et qui, ei denique consequuntur vix. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Sit fugit nostrum et. Partiendo adversarium no mea. Tritani reprehendunt pro an, his ne liber iusto. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Sonet tibique sea et. Harum repudiandae sea at. No epicuri hendrerit consetetur sit, sit dicta adipiscing ex, in facete detracto deterruisset duo.")),(0,r.tZ)("div",{className:"images"},(0,r.tZ)("img",{src:ra}))),(0,r.tZ)(zr,null,(0,r.tZ)("div",{className:"images",css:aa},(0,r.tZ)("img",{src:ia})),(0,r.tZ)("div",{className:"text"},(0,r.tZ)("h3",{css:oa},"Equitable"),(0,r.tZ)("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Harum repudiandae sea at. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Vivendum intellegat et qui."),(0,r.tZ)("p",null,"Lei denique consequuntur vix. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Sit fugit nostrum et. Partiendo adversarium no mea. Tritani reprehendunt pro an, his ne liber iusto. Pri posse graeco definitiones cu, id eam populo quaestio adipiscing, usu quod malorum te. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Scripta periculis ei eam, te pro movet reformidans. Sonet tibique sea et. Harum repudiandae sea at. No epicuri hendrerit consetetur sit, sit dicta adipiscing ex, in facete detracto deterruisset duo."))),(0,r.tZ)(Jo,null),(0,r.tZ)(ta,null))))}},1237:function(t,e,n){var i=n(2933);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},3999:function(t,e,n){var i=n(8314),r=n(4942),o=n(7580),a=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9035:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},3826:function(t,e,n){var i=n(1267),r=n(5107),o=n(8601),a=n(2125);t.exports=function(t,e){for(var n=r(e),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];i(t,l)||s(t,l,u(e,l))}}},2921:function(t,e,n){var i=n(4691),r=n(2125),o=n(1771);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},1771:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4691:function(t,e,n){var i=n(3235);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2035:function(t,e,n){var i=n(4075),r=n(2933),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},9526:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8845:function(t,e,n){var i=n(4075),r=n(8601).f,o=n(2921),a=n(4089),s=n(8878),u=n(3826),c=n(5243);t.exports=function(t,e){var n,l,h,p,d,f=t.target,m=t.global,v=t.stat;if(n=m?i:v?i[f]||s(f,{}):(i[f]||{}).prototype)for(l in e){if(p=e[l],h=t.noTargetGet?(d=r(n,l))&&d.value:n[l],!c(m?l:f+(v?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),a(n,l,p,t)}}},3235:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},3409:function(t,e,n){var i=n(9612),r=n(4075),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},4075:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},1267:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},1985:function(t){t.exports={}},5659:function(t,e,n){var i=n(4691),r=n(3235),o=n(2035);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8266:function(t,e,n){var i=n(3235),r=n(9035),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},2152:function(t,e,n){var i=n(1284),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},278:function(t,e,n){var i,r,o,a=n(5727),s=n(4075),u=n(2933),c=n(2921),l=n(1267),h=n(1284),p=n(5746),d=n(1985),f=s.WeakMap;if(a){var m=h.state||(h.state=new f),v=m.get,g=m.has,y=m.set;i=function(t,e){return e.facade=t,y.call(m,t,e),e},r=function(t){return v.call(m,t)||{}},o=function(t){return g.call(m,t)}}else{var b=p("state");d[b]=!0,i=function(t,e){return e.facade=t,c(t,b,e),e},r=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},5243:function(t,e,n){var i=n(3235),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},2933:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},9953:function(t){t.exports=!1},5727:function(t,e,n){var i=n(4075),r=n(2152),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},2125:function(t,e,n){var i=n(4691),r=n(5659),o=n(1237),a=n(6943),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},8601:function(t,e,n){var i=n(4691),r=n(6209),o=n(1771),a=n(8314),s=n(6943),u=n(1267),c=n(5659),l=Object.getOwnPropertyDescriptor;e.f=i?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},6483:function(t,e,n){var i=n(5129),r=n(9526).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},9140:function(t,e){e.f=Object.getOwnPropertySymbols},5129:function(t,e,n){var i=n(1267),r=n(8314),o=n(3999).indexOf,a=n(1985);t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},6209:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},5107:function(t,e,n){var i=n(3409),r=n(6483),o=n(9140),a=n(1237);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},9612:function(t,e,n){var i=n(4075);t.exports=i},4089:function(t,e,n){var i=n(4075),r=n(2921),o=n(1267),a=n(8878),s=n(2152),u=n(278),c=u.get,l=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var u,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),(u=l(n)).source||(u.source=h.join("string"==typeof e?e:""))),t!==i?(c?!d&&t[e]&&(p=!0):delete t[e],p?t[e]=n:r(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},6660:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},8878:function(t,e,n){var i=n(4075),r=n(2921);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},5746:function(t,e,n){var i=n(9709),r=n(6819),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},1284:function(t,e,n){var i=n(4075),r=n(8878),o="__core-js_shared__",a=i[o]||r(o,{});t.exports=a},9709:function(t,e,n){var i=n(9953),r=n(1284);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},7580:function(t,e,n){var i=n(1697),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},8314:function(t,e,n){var i=n(8266),r=n(6660);t.exports=function(t){return i(r(t))}},1697:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},4942:function(t,e,n){var i=n(1697),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},6943:function(t,e,n){var i=n(2933);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},6819:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},2536:function(t,e,n){var i=n(8845),r=Math.hypot,o=Math.abs,a=Math.sqrt;i({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,i,r=0,s=0,u=arguments.length,c=0;s<u;)c<(n=o(arguments[s++]))?(r=r*(i=c/n)*i+1,c=n):r+=n>0?(i=n/c)*i:n;return c===1/0?1/0:c*a(r)}})}}]);
//# sourceMappingURL=component---src-pages-index-tsx-b623cfa5670f137c49c6.js.map